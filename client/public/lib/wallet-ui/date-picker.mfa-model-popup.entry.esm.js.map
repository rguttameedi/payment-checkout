{"version":3,"file":"date-picker.mfa-model-popup.entry.esm.js","sources":["src/components/datePicker/date-picker.css?tag=date-picker","src/components/datePicker/date-picker.tsx","src/utils/mfaService.ts","src/components/mfaModelPopUp/mfaPayloadBuilder.ts","src/components/mfaModelPopUp/mfaModelPopUp.module.scss?tag=mfa-model-popup&encapsulation=shadow","src/components/mfaModelPopUp/mfaModelPopUp.tsx"],"sourcesContent":["/* Date Picker Wrapper */\r\n.date-picker-wrapper {\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.date-picker-wrapper input {\r\n  width: 100%;\r\n  padding-right: 40px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n/* Calendar Icon Button */\r\n.date-picker-icon {\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  background: none !important;\r\n  border: none;\r\n  cursor: pointer;\r\n  padding: 5px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #666;\r\n  width: auto !important;\r\n  height: auto !important;\r\n  min-width: auto !important;\r\n}\r\n\r\n.date-picker-icon:hover {\r\n  color: #333;\r\n  background: none !important;\r\n  transform: translateY(-50%);\r\n}\r\n\r\n.date-picker-icon:focus {\r\n  outline: none;\r\n  background: none !important;\r\n}\r\n\r\n.date-picker-icon:active {\r\n  background: none !important;\r\n  transform: translateY(-50%);\r\n}\r\n\r\n/* Date Picker Dropdown */\r\n.date-picker-dropdown {\r\n  position: absolute;\r\n  bottom: 100%;\r\n  left: 0;\r\n  margin-bottom: 4px;\r\n  background: white;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  box-shadow: 0 -4px 6px rgba(0, 0, 0, 0.1);\r\n  z-index: 1000;\r\n  width: 320px !important;\r\n  min-width: 320px !important;\r\n  max-width: 320px !important;\r\n  max-height: 400px;\r\n  overflow: hidden;\r\n  box-sizing: border-box;\r\n}\r\n\r\n/* Date Picker Header */\r\n.date-picker-header {\r\n  padding: 12px;\r\n  border-bottom: 1px solid #eee;\r\n  background-color: #f8f9fa;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.date-picker-selectors {\r\n  display: flex;\r\n  gap: 8px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.date-picker-month-select {\r\n  flex: 1;\r\n  min-width: 120px;\r\n  max-width: 180px;\r\n  padding: 6px 8px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  background-color: white;\r\n  cursor: pointer;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.date-picker-month-select:hover {\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.date-picker-month-select:focus {\r\n  outline: 2px solid #007bff;\r\n  outline-offset: 2px;\r\n}\r\n\r\n.date-picker-year-button {\r\n  padding: 6px 12px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  background-color: white;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  white-space: nowrap;\r\n}\r\n\r\n.date-picker-year-button:hover {\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.date-picker-year-button:focus {\r\n  outline: 2px solid #007bff;\r\n  outline-offset: 2px;\r\n}\r\n\r\n/* Year Picker Navigation */\r\n.year-picker-navigation {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\n.year-nav-button {\r\n  width: 40px;\r\n  height: 40px;\r\n  flex-shrink: 0;\r\n  padding: 8px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  background-color: white;\r\n  cursor: pointer;\r\n  font-size: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.year-nav-button:hover:not(:disabled) {\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.year-nav-button:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.year-nav-button:active:not(:disabled) {\r\n  background-color: #e9ecef;\r\n}\r\n\r\n.year-nav-button:focus {\r\n  outline: 2px solid #007bff;\r\n  outline-offset: 2px;\r\n}\r\n\r\n.year-range-button {\r\n  flex: 1;\r\n  height: 40px;\r\n  padding: 8px 12px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  background-color: white;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.year-range-button:hover {\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.year-range-button:active {\r\n  background-color: #e9ecef;\r\n}\r\n\r\n/* Calendar Wrapper */\r\n.date-picker-calendar-wrapper {\r\n  max-height: 280px;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n/* Calendar Table */\r\n.date-picker-calendar {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  table-layout: fixed;\r\n}\r\n\r\n.date-picker-calendar thead th {\r\n  padding: 8px;\r\n  text-align: center;\r\n  font-weight: 600;\r\n  color: #666;\r\n  font-size: 12px;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.date-picker-calendar tbody td {\r\n  padding: 2px;\r\n  text-align: center;\r\n}\r\n\r\n.date-picker-day {\r\n  width: 100%;\r\n  padding: 8px;\r\n  border: none;\r\n  background: none;\r\n  cursor: pointer;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.date-picker-day:hover {\r\n  background-color: #e9ecef;\r\n}\r\n\r\n.date-picker-day.selected {\r\n  background-color: #007bff;\r\n  color: white;\r\n}\r\n\r\n.date-picker-day.selected:hover {\r\n  background-color: #0056b3;\r\n}\r\n\r\n.date-picker-day.today {\r\n  border: 2px solid #007bff;\r\n  font-weight: bold;\r\n}\r\n\r\n/* Year Picker Grid */\r\n.year-picker-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 8px;\r\n  padding: 12px;\r\n  max-height: 320px;\r\n  overflow-y: auto;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.year-picker-item {\r\n  padding: 12px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  background-color: white;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.year-picker-item:hover {\r\n  background-color: #e9ecef;\r\n}\r\n\r\n.year-picker-item.selected {\r\n  background-color: #007bff;\r\n  color: white;\r\n  border-color: #007bff;\r\n}\r\n\r\n.year-picker-item.selected:hover {\r\n  background-color: #0056b3;\r\n}\r\n\r\n.year-picker-item.today {\r\n  border: 2px solid #007bff;\r\n  font-weight: bold;\r\n}\r\n","import { Component, h, Prop, State, Element, Event, EventEmitter, Watch } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'date-picker',\r\n  styleUrl: 'date-picker.css',\r\n  shadow: false,\r\n})\r\nexport class DatePicker {\r\n  @Element() el: HTMLElement;\r\n\r\n  @Prop() value: string = '';\r\n  @Prop() placeholder: string = 'MM/DD/YYYY';\r\n  @Prop() inputId: string = 'date-input';\r\n  @Prop() minAge?: number; // Optional: minimum age requirement (e.g., 18)\r\n\r\n  @Event({ eventName: 'dateChange', bubbles: true, composed: true })\r\n  dateChange: EventEmitter<string>;\r\n\r\n  @State() inputValue: string = '';\r\n  @State() isDatePickerOpen: boolean = false;\r\n  @State() selectedDate: Date | null = null;\r\n  @State() isYearPickerOpen: boolean = false;\r\n  @State() isSelectingMonth: boolean = false;\r\n  @State() isSelectingYear: boolean = false;\r\n  @State() yearRangeStart: number = 1900;\r\n\r\n  private _isOpeningYearPicker: boolean = false;\r\n  private _isOpeningMonthSelect: boolean = false;\r\n\r\n  @Watch('value')\r\n  valueChanged(newValue: string) {\r\n    this.inputValue = newValue;\r\n    \r\n    // Update selectedDate when value prop changes\r\n    if (newValue && newValue.length === 10) {\r\n      const parts = newValue.split('/');\r\n      if (parts.length === 3) {\r\n        const month = parseInt(parts[0], 10) - 1;\r\n        const day = parseInt(parts[1], 10);\r\n        const year = parseInt(parts[2], 10);\r\n        \r\n        if (year >= 1900 && year <= 2099) {\r\n          const date = new Date(year, month, day);\r\n          if (date.getMonth() === month && date.getDate() === day && date.getFullYear() === year) {\r\n            this.selectedDate = date;\r\n          }\r\n        }\r\n      }\r\n    } else if (!newValue) {\r\n      this.selectedDate = null;\r\n    }\r\n  }\r\n\r\n  componentDidLoad() {\r\n    // Initialize inputValue with value prop\r\n    this.inputValue = this.value;\r\n    \r\n    setTimeout(() => {\r\n      document.addEventListener('click', this.handleClickOutside, false);\r\n    }, 300);\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    document.removeEventListener('click', this.handleClickOutside, false);\r\n  }\r\n\r\n  private readonly handleClickOutside = (event: MouseEvent) => {\r\n    if (!this.isDatePickerOpen) return;\r\n    \r\n    if (this._isOpeningYearPicker || this._isOpeningMonthSelect) {\r\n      return;\r\n    }\r\n    \r\n    if (this.isSelectingMonth || this.isSelectingYear) {\r\n      return;\r\n    }\r\n    \r\n    const target = event.target as HTMLElement;\r\n    const datePickerWrapper = this.el.querySelector('.date-picker-wrapper');\r\n    \r\n    if (!datePickerWrapper) return;\r\n    \r\n    if (datePickerWrapper.contains(target)) {\r\n      return;\r\n    }\r\n    \r\n    if (target.classList.contains('year-picker-item') ||\r\n        target.classList.contains('year-range-button') ||\r\n        target.classList.contains('date-picker-year-button') ||\r\n        target.closest('.year-picker-grid') ||\r\n        target.closest('.year-range-button') ||\r\n        target.closest('.date-picker-year-button')) {\r\n      return;\r\n    }\r\n    \r\n    if (target.tagName === 'SELECT' || \r\n        target.tagName === 'OPTION' ||\r\n        target.closest('select')) {\r\n      return;\r\n    }\r\n    \r\n    this.isDatePickerOpen = false;\r\n    this.isYearPickerOpen = false;\r\n  };\r\n\r\n  private readonly handleManualInput = (event: Event) => {\r\n    const input = event.target as HTMLInputElement;\r\n    let value = input.value;\r\n\r\n    // Remove all non-digit characters\r\n    let digits = value.replace(/\\D/g, '');\r\n\r\n    // Auto-format as MM/DD/YYYY\r\n    let formatted = this.formatDateInput(digits);\r\n\r\n    // Update input value with formatted date\r\n    input.value = formatted;\r\n    this.inputValue = formatted;\r\n\r\n    // Emit the formatted value\r\n    this.dateChange.emit(formatted);\r\n\r\n    // Try to parse and update selectedDate if complete and valid\r\n    if (formatted.length === 10) {\r\n      const parsedDate = this.parseAndValidateDate(formatted);\r\n      if (parsedDate) {\r\n        this.selectedDate = parsedDate;\r\n      }\r\n    }\r\n  };\r\n\r\n  private formatDateInput(digits: string): string {\r\n    let formatted = '';\r\n    if (digits.length > 0) {\r\n      // Add month (first 2 digits)\r\n      formatted = digits.slice(0, 2);\r\n\r\n      if (digits.length >= 3) {\r\n        // Add slash after month and day (next 2 digits)\r\n        formatted += '/' + digits.slice(2, 4);\r\n      }\r\n\r\n      if (digits.length >= 5) {\r\n        // Add slash after day and year (last 4 digits)\r\n        formatted += '/' + digits.slice(4, 8);\r\n      }\r\n    }\r\n    return formatted;\r\n  }\r\n\r\n  private parseAndValidateDate(formatted: string): Date | null {\r\n    const parts = formatted.split('/');\r\n    if (parts.length !== 3) return null;\r\n    const month = parseInt(parts[0], 10) - 1;\r\n    const day = parseInt(parts[1], 10);\r\n    const year = parseInt(parts[2], 10);\r\n\r\n    // Basic validation before creating date\r\n    if (month < 0 || month > 11 || day < 1 || day > 31 || year < 1900 || year > 2099) {\r\n      return null;\r\n    }\r\n    const date = new Date(year, month, day);\r\n    // Verify the date is valid (handles invalid dates like 02/30/2020)\r\n    if (date.getMonth() === month && date.getDate() === day && date.getFullYear() === year) {\r\n      return date;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  toggleDatePicker = (event?: Event) => {\r\n    if (event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n    \r\n    this.isDatePickerOpen = !this.isDatePickerOpen;\r\n    \r\n    if (this.isDatePickerOpen) {\r\n      setTimeout(() => {\r\n        const datePickerDropdown = this.el.querySelector('.date-picker-dropdown');\r\n        if (datePickerDropdown) {\r\n          const rect = datePickerDropdown.getBoundingClientRect();\r\n          const viewportHeight = window.innerHeight;\r\n          \r\n          if (rect.bottom > viewportHeight) {\r\n            const availableHeight = viewportHeight - rect.top - 20;\r\n            (datePickerDropdown as HTMLElement).style.maxHeight = `${availableHeight}px`;\r\n            (datePickerDropdown as HTMLElement).style.overflowY = 'auto';\r\n          }\r\n        }\r\n      }, 50);\r\n    }\r\n  };\r\n\r\n  handleDateSelect = (date: Date, event?: Event) => {\r\n    if (event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n    this.selectedDate = date;\r\n    const month = String(date.getMonth() + 1).padStart(2, '0');\r\n    const day = String(date.getDate()).padStart(2, '0');\r\n    const year = date.getFullYear();\r\n    const formattedDate = `${month}/${day}/${year}`;\r\n    \r\n    this.dateChange.emit(formattedDate);\r\n    this.isDatePickerOpen = false;\r\n    this.isYearPickerOpen = false;\r\n  };\r\n\r\n  toggleYearPicker = (event?: Event) => {\r\n    if (event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n    \r\n    this._isOpeningYearPicker = true;\r\n    this.isSelectingYear = true;\r\n    this.isYearPickerOpen = !this.isYearPickerOpen;\r\n    \r\n    if (this.isYearPickerOpen) {\r\n      const currentYear = this.selectedDate \r\n        ? this.selectedDate.getFullYear() \r\n        : new Date().getFullYear() - (this.minAge || 18);\r\n      this.yearRangeStart = Math.floor((currentYear - 1900) / 18) * 18 + 1900;\r\n    }\r\n    \r\n    if (!this.isYearPickerOpen) {\r\n      setTimeout(() => {\r\n        this.isSelectingYear = false;\r\n        this._isOpeningYearPicker = false;\r\n      }, 300);\r\n    } else {\r\n      setTimeout(() => {\r\n        this._isOpeningYearPicker = false;\r\n      }, 500);\r\n    }\r\n  };\r\n\r\n  handleYearRangeChange = (direction: 'prev' | 'next', event?: Event) => {\r\n    if (event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n    \r\n    if (direction === 'prev') {\r\n      const newStart = this.yearRangeStart - 18;\r\n      this.yearRangeStart = Math.max(1900, newStart);\r\n    } else {\r\n      const newStart = this.yearRangeStart + 18;\r\n      this.yearRangeStart = Math.min(2082, newStart);\r\n    }\r\n  };\r\n\r\n  handleYearSelect = (year: number, event?: Event) => {\r\n    if (event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n    const currentMonth = this.selectedDate ? this.selectedDate.getMonth() : new Date().getMonth();\r\n    const newDate = new Date(year, currentMonth, 1);\r\n    this.selectedDate = newDate;\r\n    this.isYearPickerOpen = false;\r\n    \r\n    setTimeout(() => {\r\n      this.isSelectingYear = false;\r\n      this._isOpeningYearPicker = false;\r\n    }, 300);\r\n  };\r\n\r\n  renderDatePicker() {\r\n    if (!this.isDatePickerOpen) return null;\r\n\r\n    const today = new Date();\r\n    const currentMonth = this.selectedDate ? this.selectedDate.getMonth() : today.getMonth();\r\n    const currentYear = this.selectedDate ? this.selectedDate.getFullYear() : today.getFullYear() - (this.minAge || 18);\r\n    \r\n    const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\r\n    const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();\r\n    const firstDayOfMonth = new Date(currentYear, currentMonth, 1).getDay();\r\n\r\n    const handleMonthChange = (event: Event) => {\r\n      const target = event.target as HTMLSelectElement;\r\n      const newMonth = parseInt(target.value, 10);\r\n      const newDate = new Date(currentYear, newMonth, 1);\r\n      this.selectedDate = newDate;\r\n      setTimeout(() => {\r\n        this.isSelectingMonth = false;\r\n        this._isOpeningMonthSelect = false;\r\n      }, 100);\r\n    };\r\n\r\n    const handleMonthFocus = () => {\r\n      this._isOpeningMonthSelect = true;\r\n      this.isSelectingMonth = true;\r\n    };\r\n\r\n    const handleMonthBlur = () => {\r\n      setTimeout(() => {\r\n        this.isSelectingMonth = false;\r\n        this._isOpeningMonthSelect = false;\r\n      }, 200);\r\n    };\r\n\r\n    const renderCalendarDays = () => {\r\n      const days = [];\r\n      \r\n      for (let i = 0; i < firstDayOfMonth; i++) {\r\n        days.push(<td></td>);\r\n      }\r\n      \r\n      for (let day = 1; day <= daysInMonth; day++) {\r\n        const date = new Date(currentYear, currentMonth, day);\r\n        const isSelected = this.selectedDate && \r\n          this.selectedDate.getDate() === day && \r\n          this.selectedDate.getMonth() === currentMonth && \r\n          this.selectedDate.getFullYear() === currentYear;\r\n        \r\n        const isToday = today.getDate() === day && \r\n          today.getMonth() === currentMonth && \r\n          today.getFullYear() === currentYear;\r\n        \r\n        days.push(\r\n          <td>\r\n            <button\r\n              type=\"button\"\r\n              class={`date-picker-day ${isSelected ? 'selected' : ''} ${isToday ? 'today' : ''}`}\r\n              onClick={(e) => this.handleDateSelect(date, e)}\r\n            >\r\n              {day}\r\n            </button>\r\n          </td>\r\n        );\r\n      }\r\n      \r\n      const weeks = [];\r\n      let week = [];\r\n      days.forEach((day, index) => {\r\n        week.push(day);\r\n        if ((index + 1) % 7 === 0 || index === days.length - 1) {\r\n          while (week.length < 7) {\r\n            week.push(<td></td>);\r\n          }\r\n          weeks.push(<tr>{week}</tr>);\r\n          week = [];\r\n        }\r\n      });\r\n      \r\n      return weeks;\r\n    };\r\n\r\n    if (this.isYearPickerOpen) {\r\n      const years = [];\r\n      const startYear = this.yearRangeStart;\r\n      const endYear = Math.min(startYear + 17, 2099);\r\n      const yearCount = endYear - startYear + 1;\r\n\r\n      for (let i = 0; i < yearCount; i++) {\r\n        const year = startYear + i;\r\n        if (year <= 2099) {\r\n          years.push(year);\r\n        }\r\n      }\r\n\r\n      const isPrevDisabled = this.yearRangeStart <= 1900;\r\n      const isNextDisabled = this.yearRangeStart >= 2082;\r\n\r\n      return (\r\n        <div class=\"date-picker-dropdown\">\r\n          <div class=\"date-picker-header\">\r\n            <div class=\"year-picker-navigation\">\r\n              <button \r\n                type=\"button\" \r\n                class=\"year-nav-button\" \r\n                onClick={(e) => this.handleYearRangeChange('prev', e)}\r\n                disabled={isPrevDisabled}\r\n              >\r\n                ‹\r\n              </button>\r\n              <button type=\"button\" class=\"year-range-button\" onClick={(e) => this.toggleYearPicker(e)}>\r\n                {startYear} - {Math.min(startYear + 17, 2099)}\r\n              </button>\r\n              <button \r\n                type=\"button\" \r\n                class=\"year-nav-button\" \r\n                onClick={(e) => this.handleYearRangeChange('next', e)}\r\n                disabled={isNextDisabled}\r\n              >\r\n                ›\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div class=\"year-picker-grid\">\r\n            {years.map(year => (\r\n              <button\r\n                type=\"button\"\r\n                class={`year-picker-item ${year === currentYear ? 'selected' : ''} ${year === today.getFullYear() ? 'today' : ''}`}\r\n                onClick={(e) => this.handleYearSelect(year, e)}\r\n              >\r\n                {year}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div class=\"date-picker-dropdown\">\r\n        <div class=\"date-picker-header\">\r\n          <div class=\"date-picker-selectors\">\r\n            <select \r\n              class=\"date-picker-month-select\" \r\n              onInput={handleMonthChange}\r\n              onFocus={handleMonthFocus}\r\n              onBlur={handleMonthBlur}\r\n            >\r\n              {monthNames.map((month, index) => (\r\n                <option value={index} selected={index === currentMonth}>{month}</option>\r\n              ))}\r\n            </select>\r\n            <button type=\"button\" class=\"date-picker-year-button\" onClick={(e) => this.toggleYearPicker(e)}>\r\n              {currentYear}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class=\"date-picker-calendar-wrapper\">\r\n          <table class=\"date-picker-calendar\">\r\n            <thead>\r\n              <tr>\r\n                <th>S</th>\r\n                <th>M</th>\r\n                <th>T</th>\r\n                <th>W</th>\r\n                <th>T</th>\r\n                <th>F</th>\r\n                <th>S</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {renderCalendarDays()}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class=\"date-picker-wrapper\">\r\n        <input\r\n          type=\"text\"\r\n          id={this.inputId}\r\n          placeholder={this.placeholder}\r\n          value={this.inputValue}\r\n          onInput={(e) => this.handleManualInput(e)}\r\n          maxLength={10}\r\n          autocomplete=\"off\"\r\n        />\r\n        <button type=\"button\" class=\"date-picker-icon\" onClick={(e) => this.toggleDatePicker(e)}>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n            <rect x=\"3\" y=\"4\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\r\n            <line x1=\"16\" y1=\"2\" x2=\"16\" y2=\"6\"></line>\r\n            <line x1=\"8\" y1=\"2\" x2=\"8\" y2=\"6\"></line>\r\n            <line x1=\"3\" y1=\"10\" x2=\"21\" y2=\"10\"></line>\r\n          </svg>\r\n        </button>\r\n        {this.renderDatePicker()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { ResendMfaLinkRequest, SaveBankOnMfaSuccessRequest, SaveCardOnMfaSuccessRequest } from \"../components/mfaModelPopUp/mfaPayloadBuilder\";\r\nimport { Environment, getApiConfig } from \"../config\";\r\n\r\n\r\n// Helper function to conditionally log only in development\r\nconst devLog = (environment: Environment, message: string, ...args: any[]) => {\r\n  if (environment === Environment.LOCALDEVELOPMENT || environment === Environment.STAGING) {\r\n    console.log(message, ...args);\r\n  }\r\n};\r\n\r\n\r\nexport async function getMfaStatus(\r\n  operationsToken: string,\r\n  userScopedAccessToken: string,\r\n  mfainquiryId: string,\r\n  environment: Environment = Environment.PRODUCTION\r\n): Promise<any> {\r\n  const apiConfig = getApiConfig(environment);\r\n  const url = `${apiConfig.BASE_URL}${apiConfig.RELATIVE_URLS.GET_MFA_STATUS}?mfaInquiryId=${encodeURIComponent(mfainquiryId)}`;\r\n\r\n\r\n  devLog(environment, 'Get MFA Status Request Details:', {\r\n    url,\r\n    method: 'GET',\r\n    headers: {\r\n      'Authorization': `Bearer ${operationsToken.substring(0, 5)}...${operationsToken.substring(operationsToken.length - 5)}`,\r\n      'X-SW-API-KEY': `${userScopedAccessToken.substring(0, 5)}...${userScopedAccessToken.substring(userScopedAccessToken.length - 5)}`,\r\n    },\r\n  });\r\n\r\n  try {\r\n    const response = await fetch(url, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': `Bearer ${operationsToken}`,\r\n        'X-SW-API-KEY': userScopedAccessToken,\r\n      },\r\n\r\n    });\r\n\r\n    devLog(environment, 'Get MFA Status Response Status:', response.status, response.statusText);\r\n\r\n    const responseData = await response.json();\r\n    devLog(environment, 'Get MFA Status Response Data:', responseData);\r\n\r\n    if (responseData.status === 400) {\r\n      devLog(environment, 'Validation Error Response:', responseData);\r\n      return { success: false, message: \"We couldn't process your request at the moment. Please try again later or use a different payment method.\" };\r\n    }\r\n\r\n    if (!response.ok) {\r\n      console.error('API Error Response:', {\r\n        status: response.status,\r\n        statusText: response.statusText,\r\n        data: responseData\r\n      });\r\n      return { success: false, message: 'We are unable to retrieve your MFA status at the moment. Please try again later' };\r\n    }\r\n\r\n    devLog(environment, 'MFA status fetched successfully:', responseData);\r\n    return { success: true, data: responseData };\r\n  } catch (error) {\r\n    console.error('Error fetching MFA status:', {\r\n      error,\r\n      message: error instanceof Error ? error.message : 'Unknown error',\r\n      stack: error instanceof Error ? error.stack : undefined\r\n    });\r\n    return { success: false, message: 'Unexpected error. Please refresh or try again later.' };\r\n  }\r\n}\r\n\r\nexport async function resendMfaLink(\r\n  operationsToken: string,\r\n  userScopedAccessToken: string,\r\n  requestBody: ResendMfaLinkRequest,\r\n  environment: Environment = Environment.PRODUCTION\r\n): Promise<any> {\r\n  const apiConfig = getApiConfig(environment);\r\n  const url = `${apiConfig.BASE_URL}${apiConfig.RELATIVE_URLS.RESEND_MFA_LINK}`;\r\n\r\n  devLog(environment, 'Resend MFA Link Request Details:', {\r\n    url,\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${operationsToken.substring(0, 5)}...${operationsToken.substring(operationsToken.length - 5)}`,\r\n      'X-SW-API-KEY': `${userScopedAccessToken.substring(0, 5)}...${userScopedAccessToken.substring(userScopedAccessToken.length - 5)}`,\r\n    },\r\n    body: JSON.stringify(requestBody)\r\n  });\r\n\r\n  try {\r\n    const response = await fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${operationsToken}`,\r\n        'X-SW-API-KEY': userScopedAccessToken,\r\n      },\r\n      body: JSON.stringify(requestBody),\r\n    });\r\n\r\n    devLog(environment, 'Resend MFA Link Response Status:', response.status, response.statusText);\r\n\r\n    const responseData = await response.json();\r\n    devLog(environment, 'Resend MFA Link Response Data:', responseData);\r\n\r\n    if (responseData.status === 400) {\r\n      devLog(environment, 'Validation Error Response:', responseData);\r\n      return { success: false, message: \"Unable to resend MFA link at the moment. Please try again later\" };\r\n    }\r\n\r\n    if (!response.ok) {\r\n      console.error('API Error Response:', {\r\n        status: response.status,\r\n        statusText: response.statusText,\r\n        data: responseData\r\n      });\r\n      return { success: false, message: 'Failed to resend MFA link. Please refresh and try again' };\r\n    }\r\n    devLog(environment, 'The MFA link has been resent successfully:', responseData);\r\n    return { success: true, data: responseData };\r\n  } catch (error) {\r\n    console.error('Error resending MFA link:', {\r\n      error,\r\n      message: error instanceof Error ? error.message : 'Unknown error',\r\n      stack: error instanceof Error ? error.stack : undefined\r\n    });\r\n    return { success: false, message: 'Unexpected error occurred while resending MFA link. Please try again later.' };\r\n  }\r\n}\r\n\r\nexport async function saveCardOnMfaSuccess(\r\n  operationsToken: string,\r\n  userScopedAccessToken: string,\r\n  requestBody: SaveCardOnMfaSuccessRequest,\r\n  environment: Environment = Environment.PRODUCTION\r\n): Promise<any> {\r\n  const apiConfig = getApiConfig(environment);\r\n  const url = `${apiConfig.BASE_URL}${apiConfig.RELATIVE_URLS.SAVE_CARD_ON_MFA_SUCCESS}`;\r\n\r\n  devLog(environment, \"Save Card On MFA Success Request Details:\", {\r\n    url,\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"Authorization\": `Bearer ${operationsToken.substring(0, 5)}...${operationsToken.substring(operationsToken.length - 5)}`,\r\n      \"X-SW-API-KEY\": `${userScopedAccessToken.substring(0, 5)}...${userScopedAccessToken.substring(userScopedAccessToken.length - 5)}`\r\n    },\r\n    body: JSON.stringify(requestBody)\r\n  });\r\n\r\n  try {\r\n    const response = await fetch(url, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": `Bearer ${operationsToken}`,\r\n        \"X-SW-API-KEY\": userScopedAccessToken\r\n      },\r\n      body: JSON.stringify(requestBody)\r\n    });\r\n\r\n    devLog(environment, \"Save Card On MFA Success Response Status:\", response.status, response.statusText);\r\n\r\n    const responseData = await response.json();\r\n    devLog(environment, \"Save Card On MFA Success Response Data:\", responseData);\r\n\r\n    if (responseData.status === 400) {\r\n      devLog(environment, \"Validation Error Response:\", responseData);\r\n      return {\r\n        success: false,\r\n        message: \"We couldn't save your card details at the moment. Please try again later.\"\r\n      };\r\n    }\r\n\r\n    if (!response.ok) {\r\n      console.error(\"API Error Response:\", {\r\n        status: response.status,\r\n        statusText: response.statusText,\r\n        data: responseData\r\n      });\r\n      return { success: false, message: \"Failed to save card details. Please refresh and try again.\" };\r\n    }\r\n    devLog(environment, 'Save Card on MFA success executed successfully:', responseData);\r\n    return { success: true, data: responseData };\r\n  } catch (error) {\r\n    console.error(\"Error saving card on MFA success:\", {\r\n      error,\r\n      message: error instanceof Error ? error.message : \"Unknown error\",\r\n      stack: error instanceof Error ? error.stack : undefined\r\n    });\r\n    return { success: false, message: \"Unexpected error occurred while saving card details. Please try again later.\" };\r\n  }\r\n}\r\n\r\nexport async function saveBankOnMfaSuccess(\r\n  operationsToken: string,\r\n  userScopedAccessToken: string,\r\n  requestBody: SaveBankOnMfaSuccessRequest,\r\n  environment: Environment = Environment.PRODUCTION\r\n): Promise<any> {\r\n  const apiConfig = getApiConfig(environment);\r\n  const url = `${apiConfig.BASE_URL}${apiConfig.RELATIVE_URLS.SAVE_BANK_ON_MFA_SUCCESS}`;\r\n\r\n  devLog(environment, \"Save Bank On MFA Success Request Details:\", {\r\n    url,\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"Authorization\": `Bearer ${operationsToken.substring(0, 5)}...${operationsToken.substring(operationsToken.length - 5)}`,\r\n      \"X-SW-API-KEY\": `${userScopedAccessToken.substring(0, 5)}...${userScopedAccessToken.substring(userScopedAccessToken.length - 5)}`\r\n    },\r\n    body: JSON.stringify(requestBody)\r\n  });\r\n\r\n  try {\r\n    const response = await fetch(url, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": `Bearer ${operationsToken}`,\r\n        \"X-SW-API-KEY\": userScopedAccessToken\r\n      },\r\n      body: JSON.stringify(requestBody)\r\n    });\r\n\r\n    devLog(environment, \"Save Bank On MFA Success Response Status:\", response.status, response.statusText);\r\n\r\n    const responseData = await response.json();\r\n    devLog(environment, \"Save Bank On MFA Success Response Data:\", responseData);\r\n\r\n    if (responseData.status === 400) {\r\n      devLog(environment, \"Validation Error Response:\", responseData);\r\n      return {\r\n        success: false,\r\n        message: \"We couldn't save your bank details at the moment. Please try again later.\"\r\n      };\r\n    }\r\n\r\n    if (!response.ok) {\r\n      console.error(\"API Error Response:\", {\r\n        status: response.status,\r\n        statusText: response.statusText,\r\n        data: responseData\r\n      });\r\n      return { success: false, message: \"Failed to save bank details. Please refresh and try again.\" };\r\n    }\r\n    devLog(environment, 'Save Bank on MFA success executed successfully:', responseData);\r\n    return { success: true, data: responseData };\r\n  } catch (error) {\r\n    console.error(\"Error saving bank on MFA success:\", {\r\n      error,\r\n      message: error instanceof Error ? error.message : \"Unknown error\",\r\n      stack: error instanceof Error ? error.stack : undefined\r\n    });\r\n    return { success: false, message: \"Unexpected error occurred while saving bank details. Please try again later.\" };\r\n  }\r\n}","/* -------------------------------------------------------------------------- */\r\n/* ------------------------- Resend MFA Link Payload ------------------------ */\r\n/* -------------------------------------------------------------------------- */\r\n\r\nexport interface Address {\r\n    addressLine1: string;\r\n    addressLine2?: string;\r\n    city: string;\r\n    provinceOrStateCode: string;\r\n    postalCode: string;\r\n    countryCode: string;\r\n}\r\n\r\nexport interface ResendMfaLinkRequest {\r\n    firstName: string;\r\n    lastName: string;\r\n    dateofBirth: string;\r\n    emailAddress: string;\r\n    phoneNumber: string;\r\n    address: Address;\r\n    inquiryCorrelationId: string;\r\n}\r\n\r\nexport function buildResendMfaLinkPayload(\r\n    addRequestPayload: any,       // can be card or bank payload\r\n    initialMfaResponse: any\r\n): ResendMfaLinkRequest {\r\n    return {\r\n        firstName: addRequestPayload?.payorInformation?.firstName,\r\n        lastName: addRequestPayload?.payorInformation?.lastName,\r\n        dateofBirth: addRequestPayload?.payorInformation?.dateofBirth,\r\n        emailAddress: addRequestPayload?.payorInformation?.contactInformation?.emailAddress,\r\n        phoneNumber: addRequestPayload?.payorInformation?.contactInformation?.phoneNumber,\r\n        address: {\r\n            addressLine1: addRequestPayload?.billingAddress?.addressLine1,\r\n            addressLine2: addRequestPayload?.billingAddress?.addressLine2,\r\n            city: addRequestPayload?.billingAddress?.city,\r\n            provinceOrStateCode: addRequestPayload?.billingAddress?.provinceOrStateCode,\r\n            postalCode: addRequestPayload?.billingAddress?.postalCode,\r\n            countryCode: addRequestPayload?.billingAddress?.countryCode,\r\n        },\r\n        inquiryCorrelationId: initialMfaResponse?.data?.InquiryCorrelationId,\r\n    };\r\n}\r\n\r\n/* -------------------------------------------------------------------------- */\r\n/* ------------------- Save Card On MFA Success Payload --------------------- */\r\n/* -------------------------------------------------------------------------- */\r\n\r\nexport interface IdentityVerificationInformation {\r\n    inquiryCorrelationId: string;\r\n    mfaStatus: number;\r\n    trustLevel: number;\r\n    inquiryId: string;\r\n    isAddressVerified: boolean;\r\n}\r\n\r\nexport interface ContactInformation {\r\n    emailAddress: string;\r\n    phoneNumber: string;\r\n}\r\nexport interface PayorInformation {\r\n    firstName: string;\r\n    lastName: string;\r\n    dateofBirth: string;\r\n    validateAddress: boolean;\r\n    contactInformation: ContactInformation;\r\n    identityVerificationInformation: IdentityVerificationInformation;\r\n}\r\nexport interface BillingAddress {\r\n    addressLine1: string;\r\n    addressLine2?: string;\r\n    city: string;\r\n    provinceOrStateCode: string;\r\n    postalCode: string;\r\n    countryCode: string;\r\n}\r\nexport interface SaveCardOnMfaSuccessRequest {\r\n    payorInformation: PayorInformation;\r\n    accountReferenceId: string;\r\n    billingAddress: BillingAddress;\r\n    cardNumber: string;\r\n    expirationMonth: string;\r\n    expirationYear: string;\r\n}\r\n\r\nfunction buildIdentityVerificationInformation(mfaData: any, newInquiryId?: string): IdentityVerificationInformation {\r\n  return {\r\n    inquiryCorrelationId: mfaData?.InquiryCorrelationId,\r\n    mfaStatus: 3,\r\n    trustLevel: mfaData?.TrustLevel,\r\n    inquiryId: newInquiryId || mfaData?.MfaInquiryId,\r\n    isAddressVerified: !mfaData?.IsAddressValidationFailed,\r\n  };\r\n}\r\n \r\nfunction buildPayorInformation(requestPayload: any, mfaData: any, newInquiryId?: string): PayorInformation {\r\n  return {\r\n    firstName: requestPayload?.payorInformation?.firstName,\r\n    lastName: requestPayload?.payorInformation?.lastName,\r\n    dateofBirth: requestPayload?.payorInformation?.dateofBirth,\r\n    validateAddress: requestPayload?.payorInformation?.validateAddress,\r\n    contactInformation: {\r\n      emailAddress: requestPayload?.payorInformation?.contactInformation?.emailAddress,\r\n      phoneNumber: requestPayload?.payorInformation?.contactInformation?.phoneNumber,\r\n    },\r\n    identityVerificationInformation: buildIdentityVerificationInformation(mfaData, newInquiryId),\r\n  };\r\n}\r\n \r\nfunction buildBillingAddress(requestPayload: any): BillingAddress {\r\n  return {\r\n    addressLine1: requestPayload?.billingAddress?.addressLine1,\r\n    addressLine2: requestPayload?.billingAddress?.addressLine2,\r\n    city: requestPayload?.billingAddress?.city,\r\n    provinceOrStateCode: requestPayload?.billingAddress?.provinceOrStateCode,\r\n    postalCode: requestPayload?.billingAddress?.postalCode,\r\n    countryCode: requestPayload?.billingAddress?.countryCode,\r\n  };\r\n}\r\n\r\n// /**\r\n// * Build the SaveCardOnMfaSuccess payload from addCardRequestPayload + initialMfaResponse\r\n// */\r\n\r\nexport function buildSaveCardOnMfaSuccessPayload(\r\n  addCardRequestPayload: any,\r\n  initialMfaResponse: any,\r\n  newInquiryId?: string\r\n): SaveCardOnMfaSuccessRequest {\r\n  const mfaData = initialMfaResponse?.data;\r\n \r\n  return {\r\n    payorInformation: buildPayorInformation(addCardRequestPayload, mfaData, newInquiryId),\r\n    accountReferenceId: addCardRequestPayload?.accountReferenceId,\r\n    billingAddress: buildBillingAddress(addCardRequestPayload),\r\n    cardNumber: addCardRequestPayload?.cardNumber,\r\n    expirationMonth: addCardRequestPayload?.expirationMonth,\r\n    expirationYear: addCardRequestPayload?.expirationYear,\r\n  };\r\n}\r\n\r\n/* -------------------------------------------------------------------------- */\r\n/* ------------------- Save Bank On MFA Success Payload --------------------- */\r\n/* -------------------------------------------------------------------------- */\r\n\r\nexport interface SaveBankOnMfaSuccessRequest {\r\n    payorInformation: PayorInformation;\r\n    accountReferenceId: string;\r\n    billingAddress: BillingAddress;\r\n    accountNumber: string;\r\n    routingNumber: string;\r\n    bankAccountType: string;\r\n}\r\n\r\n// /**\r\n// * Build the SaveBankOnMfaSuccess payload from addBankRequestPayload + initialMfaResponse\r\n// */\r\n \r\nexport function buildSaveBankOnMfaSuccessPayload(\r\n  addBankRequestPayload: any,\r\n  initialMfaResponse: any,\r\n  newInquiryId?: string\r\n): SaveBankOnMfaSuccessRequest {\r\n  const mfaData = initialMfaResponse?.data;\r\n \r\n  return {\r\n    payorInformation: buildPayorInformation(addBankRequestPayload, mfaData, newInquiryId),\r\n    accountReferenceId: addBankRequestPayload?.accountReferenceId,\r\n    billingAddress: buildBillingAddress(addBankRequestPayload),\r\n    accountNumber: addBankRequestPayload?.accountNumber,\r\n    routingNumber: addBankRequestPayload?.routingNumber,\r\n    bankAccountType: addBankRequestPayload?.bankAccountType,\r\n  };\r\n}","$--button-font-family : 'Inter',sans-serif;\r\n$-button-font-size: 14px;\r\n$-button-font-weight: 700;\r\n$-button-line-height: 14px;\r\n$-small-hero-font-family : 'p22-mackinac-pro';\r\n$-small-hero-font-weight : 800;\r\n$-small-hero-font-size : 24px;\r\n$-border-primary : #e9eaeb;\r\n$-font-family :'Inter',sans-serif;\r\n$-text-primary :#282829;\r\n$-danger: #d01a1f;\r\n$-button-secondary : #FFFFFF;\r\n$-button-secondary-text : #282829;\r\n$-button-primary : #282829;\r\n$-button-primary-text :#FFFFFF;\r\n$-button-disabled : #e9eaeb;\r\n$-button-disabled-text : #9ba3a7;\r\n\r\n%btn {\r\n  background-image: none;\r\n  border-radius: 12px;\r\n  box-shadow: none;\r\n  box-sizing: border-box;\r\n  font-family: $--button-font-family;\r\n  font-size: $-button-font-size;\r\n  font-weight: $-button-font-weight ;\r\n  height: 48px;\r\n  line-height: $-button-line-height;\r\n  padding: 16px;\r\n  text-align: center;\r\n  text-shadow: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.popup {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 999;\r\n}\r\n\r\n.action-modal {\r\n  position: absolute;\r\n  top: 80px;\r\n  border-radius: 12px;\r\n  background: white;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n  opacity: 1;\r\n  padding: 40px;\r\n\r\n  .modal-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 24px;\r\n    width: 237px;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  .modal-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding-bottom: 14px;\r\n    border-bottom: 1px solid $-border-primary;\r\n\r\n    h3 {\r\n      font-family: $-small-hero-font-family;\r\n      font-weight: $-small-hero-font-weight;\r\n      font-size: $-small-hero-font-size;\r\n      margin: 0;\r\n      line-height: 27px;\r\n      color: $-text-primary;\r\n    }\r\n\r\n  }\r\n\r\n  .modal-body {\r\n    padding: 0;\r\n\r\n    .dialogContentText {\r\n      font-family: $-font-family;\r\n      font-weight: 400;\r\n      font-size: 14px;\r\n      color: $-text-primary;\r\n      line-height: 21px;\r\n    }\r\n\r\n    .highlight {\r\n      font-weight: 700;\r\n      font-style: normal;\r\n    }\r\n\r\n    .time-highlight {\r\n      font-weight: 700;\r\n      color: $-danger;\r\n    }\r\n  }\r\n\r\n  .modal-footer {\r\n    background-color: transparent;\r\n    box-shadow: none;\r\n    padding-top: 4px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n\r\n    .button-box {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 14px;\r\n      width: 100%;\r\n\r\n      .secondarybtn {\r\n        @extend %btn;\r\n        background-color: $-button-secondary;\r\n        border: 1.5px solid $-border-primary;\r\n        color: $-button-secondary-text ;\r\n        width: 100%;\r\n      }\r\n\r\n      .primary-btn {\r\n        @extend %btn;\r\n        background-color: $-button-primary;\r\n        border: 1px solid $-button-primary;\r\n        color: $-button-primary-text ;\r\n        width: 100%;\r\n\r\n        &[disabled] {\r\n          background-color: $-button-disabled;\r\n          border-color: $-button-disabled;\r\n          color: $-button-disabled-text;\r\n          cursor: default;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  @media (min-width: 545px) {\r\n    padding: 40px;\r\n\r\n    .modal-container {\r\n      width: 440px;\r\n      margin: 0 auto;\r\n      gap: 24px;\r\n    }\r\n\r\n    .modal-footer {\r\n      align-items: center;\r\n\r\n      .button-box {\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: flex-end;\r\n        gap: 8px;\r\n        width: 100%;\r\n\r\n        .secondarybtn,\r\n        .primary-btn {\r\n          width: fit-content;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}","import { Component, Event, EventEmitter, h, Prop, State, Watch } from '@stencil/core';\r\nimport { Environment } from '../../config';\r\nimport { IMFAResponse, MFAStatusEnum } from '../../interfaces/common';\r\nimport { getMfaStatus, resendMfaLink, saveBankOnMfaSuccess, saveCardOnMfaSuccess } from '../../utils/mfaService';\r\nimport { buildResendMfaLinkPayload, buildSaveBankOnMfaSuccessPayload, buildSaveCardOnMfaSuccessPayload } from './mfaPayloadBuilder';\r\n\r\n@Component({\r\n  tag: 'mfa-model-popup',\r\n  styleUrl: 'mfaModelPopUp.module.scss',\r\n  shadow: true,\r\n})\r\nexport class MfaModelPopUP {\r\n  @Prop() operationsToken: string;\r\n  @Prop() userScopedAccessToken: string;\r\n  @Prop() environment: Environment; // Environment parameter with production default\r\n  @Prop() onClose: () => void;\r\n  @State() mfaResponse: IMFAResponse | null = null;\r\n  @Prop() addRequestPayload: any;\r\n  @Prop() initialMfaResponse: any;\r\n  @Prop() requestType: 'card' | 'bank';\r\n  @State() time: number = 60; // 1 minutes in seconds\r\n  @State() isRunning: boolean = true;\r\n  @State() currentInquiryId: string = '';\r\n  timer: any;\r\n  private countdownIntervalId: any;\r\n  private pollingIntervalId: any;\r\n  @Prop() errorHandler?: (messages: string[]) => void;\r\n  @State() accountSubmissionSuccess: any = null;\r\n  @State() noOfAttempts: number = 2;\r\n  private timeoutId: any;\r\n  @Event() successEvent: EventEmitter<any>;\r\n  \r\n\r\n  @Watch('isRunning')\r\n  handleIsRunningTrue(newValue: boolean) {\r\n    if (newValue === true) {\r\n      this.handleStart();\r\n    }\r\n  }\r\n\r\n  @Watch('isRunning')\r\n  handleIsRunningFalse(newValue: boolean) {\r\n    if (newValue === false) {\r\n      this.handleStop();\r\n    }\r\n  }\r\n\r\n  private handleStart() {\r\n    this.startCountdownTimer();\r\n    this.scheduleMfaStatusPolling();\r\n  }\r\n\r\n  private handleStop() {\r\n    this.stopCountdownTimer();\r\n    this.clearPollingTimers();\r\n  }\r\n\r\n  componentWillLoad() {\r\n    this.currentInquiryId = this.initialMfaResponse?.data?.MfaInquiryId || '';\r\n  }\r\n\r\n  componentDidLoad() {\r\n    if (this.isRunning) {\r\n      this.startCountdownTimer();\r\n      this.scheduleMfaStatusPolling();\r\n    }\r\n  }\r\n\r\n  scheduleMfaStatusPolling() {\r\n    const getMfaStatusAndSetInterval = () => {\r\n      this.pollingIntervalId = setInterval(async () => {\r\n        const response = await getMfaStatus(this.operationsToken, this.userScopedAccessToken, this.currentInquiryId, this.environment);\r\n        if (response.success) {\r\n          this.mfaResponse = response.data as IMFAResponse;\r\n        } else {\r\n          const msg = response.message ?? 'Unexpected error. Please refresh or try again later.';\r\n          // send error up to parent\r\n          if (this.errorHandler) {\r\n            this.errorHandler([msg]);\r\n          }\r\n          // stop polling when error occurs\r\n          this.handleCancel();\r\n        }\r\n      }, this.recurringInterval * 1000);\r\n    };\r\n\r\n    this.timeoutId = setTimeout(() => {\r\n      getMfaStatusAndSetInterval();\r\n    }, this.startInterval * 1000);\r\n  }\r\n\r\n  @Watch('mfaResponse')\r\n  async handleMfaResponseChanged(newValue: IMFAResponse | null) {\r\n    if (!newValue) return;\r\n\r\n    if (newValue.mfaStatus === MFAStatusEnum.Pass) {\r\n      this.clearPollingTimers();\r\n\r\n      let payload;\r\n      let response;\r\n\r\n      if (this.requestType === 'card') {\r\n        payload = buildSaveCardOnMfaSuccessPayload(\r\n          this.addRequestPayload,\r\n          this.initialMfaResponse,\r\n          this.currentInquiryId\r\n        );\r\n        response = await saveCardOnMfaSuccess(\r\n          this.operationsToken,\r\n          this.userScopedAccessToken,\r\n          payload,\r\n          this.environment\r\n        );\r\n      }\r\n      else if (this.requestType === 'bank') {\r\n        payload = buildSaveBankOnMfaSuccessPayload(\r\n          this.addRequestPayload,\r\n          this.initialMfaResponse,\r\n          this.currentInquiryId\r\n        );\r\n        response = await saveBankOnMfaSuccess(\r\n          this.operationsToken,\r\n          this.userScopedAccessToken,\r\n          payload,\r\n          this.environment\r\n        );\r\n      }\r\n\r\n      if (response.success) {\r\n        this.accountSubmissionSuccess = response.data;\r\n      } else {\r\n        const msg = response.message ?? 'Unexpected error while saving card.';\r\n        if (this.errorHandler) {\r\n          this.errorHandler([msg]);\r\n        }\r\n        // stop polling when error occurs\r\n        this.handleCancel();\r\n      }\r\n    } else if (newValue.mfaStatus === MFAStatusEnum.Failed) {\r\n      this.clearPollingTimers();\r\n      const msg = 'Your MFA verification has failed. Please try again or use a different payment method.';\r\n      // send error up to parent\r\n      if (this.errorHandler) {\r\n        this.errorHandler([msg]);\r\n      }\r\n      this.handleCancel(); // close popup\r\n    }\r\n  }\r\n\r\n  @Watch('accountSubmissionSuccess')\r\n  handleAccountSubmissionSuccessChanged(newValue: any) {\r\n    if (!newValue) return;\r\n\r\n    if (\r\n      newValue?.resultMessage === 'Success' &&\r\n      newValue?.paymentInstrument\r\n    ) {\r\n      this.successEvent.emit({ data: newValue });\r\n      this.handleCancel();\r\n    }\r\n  }\r\n\r\n  clearPollingTimers() {\r\n    if (this.pollingIntervalId) {\r\n      clearInterval(this.pollingIntervalId);\r\n    }\r\n    if (this.timeoutId) {\r\n      clearTimeout(this.timeoutId);\r\n    }\r\n  }\r\n\r\n  startCountdownTimer() {\r\n    this.countdownIntervalId = setInterval(() => {\r\n      if (this.time > 0) {\r\n        this.time = this.time - 1;\r\n      } else {\r\n        this.isRunning = false;\r\n\r\n        if (this.noOfAttempts === 0) {\r\n          const msg = 'You have reached the maximum number of MFA attempts. Please use a different payment method.';\r\n          if (this.errorHandler) {\r\n            this.errorHandler([msg]);\r\n          }\r\n          this.handleCancel(); // Cancel if no attempts left\r\n        }\r\n\r\n        clearInterval(this.countdownIntervalId);\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  stopCountdownTimer() {\r\n    clearInterval(this.countdownIntervalId);\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.stopCountdownTimer();\r\n    this.clearPollingTimers();\r\n  }\r\n\r\n  handleResendLinkClick = async () => {\r\n    if (this.noOfAttempts > 0) {\r\n      this.noOfAttempts = this.noOfAttempts - 1;\r\n\r\n      // build the payload using the builder\r\n      const payload = buildResendMfaLinkPayload(this.addRequestPayload, this.initialMfaResponse);\r\n      // call the service\r\n      const response = await resendMfaLink(\r\n        this.operationsToken,\r\n        this.userScopedAccessToken,\r\n        payload,\r\n        this.environment\r\n      );\r\n\r\n      if (response.success) {\r\n        // update inquiryId with the new one from backend\r\n        this.currentInquiryId = response.data?.inquiryId || '';\r\n        this.time = 60;\r\n        this.isRunning = true;\r\n\r\n      } else {\r\n        const msg = response.message ?? 'Unexpected error. Please refresh or try again later.';\r\n        if (this.errorHandler) {\r\n          this.errorHandler([msg]);\r\n        }\r\n        // stop polling when error occurs\r\n        this.handleCancel();\r\n      }\r\n    }\r\n  };\r\n\r\n  handleCancel = () => {\r\n    if (this.pollingIntervalId) {\r\n      clearInterval(this.pollingIntervalId);\r\n      this.pollingIntervalId = null;\r\n    }\r\n    if (this.timeoutId) {\r\n      clearTimeout(this.timeoutId);\r\n      this.timeoutId = null;\r\n    }\r\n    if (this.countdownIntervalId) {\r\n      clearInterval(this.countdownIntervalId);\r\n      this.countdownIntervalId = null;\r\n    }\r\n    this.onClose();\r\n  };\r\n\r\n\r\n  get mfaPoolSettings(): string {\r\n    return this.initialMfaResponse?.data?.MfaPoolSettings || '20-5'; // fallback if missing\r\n  }\r\n\r\n  get mobileNumberLastFourDigits(): string {\r\n    const mobile = this.addRequestPayload?.payorInformation?.contactInformation?.phoneNumber || '';\r\n    return mobile.length >= 4 ? mobile.slice(-4) : mobile;\r\n  }\r\n\r\n  get startInterval(): number {\r\n    const [start] = this.mfaPoolSettings?.split('-') || [];\r\n    return Number(start);\r\n  }\r\n\r\n  get recurringInterval(): number {\r\n    const [, recurring] = this.mfaPoolSettings?.split('-') || [];\r\n    return Number(recurring);\r\n  }\r\n\r\n  private formatTime(seconds: number): string {\r\n    const minutes = Math.floor(seconds / 60);\r\n    const remainingSeconds = seconds % 60;\r\n    return `${String(minutes).padStart(2, '0')}:${String(remainingSeconds).padStart(2, '0')}`;\r\n  }\r\n\r\n  private getAttemptLabel(): string {\r\n    return this.noOfAttempts === 1 || this.noOfAttempts === 0 ? 'attempt' : 'attempts';\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class=\"popup\">\r\n        <div class=\"action-modal\">\r\n          <div class=\"modal-container\">\r\n            <div class=\"modal-header\">\r\n              <h3>Verification Link Sent</h3>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n              <p class=\"dialogContentText\">\r\n                A verification link has been sent to your <span class=\"highlight\">mobile number ending in {this.mobileNumberLastFourDigits}.</span>\r\n                <br />\r\n                Please tap the link and follow the instructions to confirm your identity.\r\n                <br />\r\n                <br />\r\n                The link will expire in <span class=\"time-highlight\">{this.formatTime(this.time)}</span>.<br />\r\n                You have {this.noOfAttempts} remaining {this.getAttemptLabel()} to resend the link if needed.\r\n              </p>\r\n              <div class=\"modal-footer\">\r\n                <div class=\"button-box\">\r\n                  <button class=\"secondarybtn\" onClick={this.handleCancel}>\r\n                    Cancel\r\n                  </button>\r\n                  <button class=\"primary-btn\" disabled={this.isRunning} onClick={this.handleResendLinkClick}>\r\n                    Resend Link\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}"],"names":[],"mappings":";;;AAAA,MAAM,aAAa,GAAG,6+HAA6+H;;MCOt/H,UAAU,GAAA,MAAA;;;;;;IAGb,KAAK,GAAW,EAAE;IAClB,WAAW,GAAW,YAAY;IAClC,OAAO,GAAW,YAAY;IAC9B,MAAM,CAAU;AAGxB,IAAA,UAAU;IAED,UAAU,GAAW,EAAE;IACvB,gBAAgB,GAAY,KAAK;IACjC,YAAY,GAAgB,IAAI;IAChC,gBAAgB,GAAY,KAAK;IACjC,gBAAgB,GAAY,KAAK;IACjC,eAAe,GAAY,KAAK;IAChC,cAAc,GAAW,IAAI;IAE9B,oBAAoB,GAAY,KAAK;IACrC,qBAAqB,GAAY,KAAK;AAG9C,IAAA,YAAY,CAAC,QAAgB,EAAA;AAC3B,QAAA,IAAI,CAAC,UAAU,GAAG,QAAQ;;QAG1B,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,KAAK,EAAE,EAAE;YACtC,MAAM,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC;AACjC,YAAA,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;AACtB,gBAAA,MAAM,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC;gBACxC,MAAM,GAAG,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;gBAClC,MAAM,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;gBAEnC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,EAAE;oBAChC,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,GAAG,CAAC;oBACvC,IAAI,IAAI,CAAC,QAAQ,EAAE,KAAK,KAAK,IAAI,IAAI,CAAC,OAAO,EAAE,KAAK,GAAG,IAAI,IAAI,CAAC,WAAW,EAAE,KAAK,IAAI,EAAE;AACtF,wBAAA,IAAI,CAAC,YAAY,GAAG,IAAI;;;;;aAIzB,IAAI,CAAC,QAAQ,EAAE;AACpB,YAAA,IAAI,CAAC,YAAY,GAAG,IAAI;;;IAI5B,gBAAgB,GAAA;;AAEd,QAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK;QAE5B,UAAU,CAAC,MAAK;YACd,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,kBAAkB,EAAE,KAAK,CAAC;SACnE,EAAE,GAAG,CAAC;;IAGT,oBAAoB,GAAA;QAClB,QAAQ,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,kBAAkB,EAAE,KAAK,CAAC;;AAGtD,IAAA,kBAAkB,GAAG,CAAC,KAAiB,KAAI;QAC1D,IAAI,CAAC,IAAI,CAAC,gBAAgB;YAAE;QAE5B,IAAI,IAAI,CAAC,oBAAoB,IAAI,IAAI,CAAC,qBAAqB,EAAE;YAC3D;;QAGF,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,eAAe,EAAE;YACjD;;AAGF,QAAA,MAAM,MAAM,GAAG,KAAK,CAAC,MAAqB;QAC1C,MAAM,iBAAiB,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,sBAAsB,CAAC;AAEvE,QAAA,IAAI,CAAC,iBAAiB;YAAE;AAExB,QAAA,IAAI,iBAAiB,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;YACtC;;AAGF,QAAA,IAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,kBAAkB,CAAC;AAC7C,YAAA,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,mBAAmB,CAAC;AAC9C,YAAA,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,yBAAyB,CAAC;AACpD,YAAA,MAAM,CAAC,OAAO,CAAC,mBAAmB,CAAC;AACnC,YAAA,MAAM,CAAC,OAAO,CAAC,oBAAoB,CAAC;AACpC,YAAA,MAAM,CAAC,OAAO,CAAC,0BAA0B,CAAC,EAAE;YAC9C;;AAGF,QAAA,IAAI,MAAM,CAAC,OAAO,KAAK,QAAQ;YAC3B,MAAM,CAAC,OAAO,KAAK,QAAQ;AAC3B,YAAA,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;YAC5B;;AAGF,QAAA,IAAI,CAAC,gBAAgB,GAAG,KAAK;AAC7B,QAAA,IAAI,CAAC,gBAAgB,GAAG,KAAK;AAC/B,KAAC;AAEgB,IAAA,iBAAiB,GAAG,CAAC,KAAY,KAAI;AACpD,QAAA,MAAM,KAAK,GAAG,KAAK,CAAC,MAA0B;AAC9C,QAAA,IAAI,KAAK,GAAG,KAAK,CAAC,KAAK;;QAGvB,IAAI,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;;QAGrC,IAAI,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;;AAG5C,QAAA,KAAK,CAAC,KAAK,GAAG,SAAS;AACvB,QAAA,IAAI,CAAC,UAAU,GAAG,SAAS;;AAG3B,QAAA,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC;;AAG/B,QAAA,IAAI,SAAS,CAAC,MAAM,KAAK,EAAE,EAAE;YAC3B,MAAM,UAAU,GAAG,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC;YACvD,IAAI,UAAU,EAAE;AACd,gBAAA,IAAI,CAAC,YAAY,GAAG,UAAU;;;AAGpC,KAAC;AAEO,IAAA,eAAe,CAAC,MAAc,EAAA;QACpC,IAAI,SAAS,GAAG,EAAE;AAClB,QAAA,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;;YAErB,SAAS,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;AAE9B,YAAA,IAAI,MAAM,CAAC,MAAM,IAAI,CAAC,EAAE;;gBAEtB,SAAS,IAAI,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;;AAGvC,YAAA,IAAI,MAAM,CAAC,MAAM,IAAI,CAAC,EAAE;;gBAEtB,SAAS,IAAI,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;;;AAGzC,QAAA,OAAO,SAAS;;AAGV,IAAA,oBAAoB,CAAC,SAAiB,EAAA;QAC5C,MAAM,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC;AAClC,QAAA,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC;AAAE,YAAA,OAAO,IAAI;AACnC,QAAA,MAAM,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC;QACxC,MAAM,GAAG,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;QAClC,MAAM,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;;QAGnC,IAAI,KAAK,GAAG,CAAC,IAAI,KAAK,GAAG,EAAE,IAAI,GAAG,GAAG,CAAC,IAAI,GAAG,GAAG,EAAE,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,EAAE;AAChF,YAAA,OAAO,IAAI;;QAEb,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,GAAG,CAAC;;QAEvC,IAAI,IAAI,CAAC,QAAQ,EAAE,KAAK,KAAK,IAAI,IAAI,CAAC,OAAO,EAAE,KAAK,GAAG,IAAI,IAAI,CAAC,WAAW,EAAE,KAAK,IAAI,EAAE;AACtF,YAAA,OAAO,IAAI;;AAEb,QAAA,OAAO,IAAI;;AAGb,IAAA,gBAAgB,GAAG,CAAC,KAAa,KAAI;QACnC,IAAI,KAAK,EAAE;YACT,KAAK,CAAC,cAAc,EAAE;YACtB,KAAK,CAAC,eAAe,EAAE;;AAGzB,QAAA,IAAI,CAAC,gBAAgB,GAAG,CAAC,IAAI,CAAC,gBAAgB;AAE9C,QAAA,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACzB,UAAU,CAAC,MAAK;gBACd,MAAM,kBAAkB,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,uBAAuB,CAAC;gBACzE,IAAI,kBAAkB,EAAE;AACtB,oBAAA,MAAM,IAAI,GAAG,kBAAkB,CAAC,qBAAqB,EAAE;AACvD,oBAAA,MAAM,cAAc,GAAG,MAAM,CAAC,WAAW;AAEzC,oBAAA,IAAI,IAAI,CAAC,MAAM,GAAG,cAAc,EAAE;wBAChC,MAAM,eAAe,GAAG,cAAc,GAAG,IAAI,CAAC,GAAG,GAAG,EAAE;wBACrD,kBAAkC,CAAC,KAAK,CAAC,SAAS,GAAG,CAAG,EAAA,eAAe,IAAI;AAC3E,wBAAA,kBAAkC,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM;;;aAGjE,EAAE,EAAE,CAAC;;AAEV,KAAC;AAED,IAAA,gBAAgB,GAAG,CAAC,IAAU,EAAE,KAAa,KAAI;QAC/C,IAAI,KAAK,EAAE;YACT,KAAK,CAAC,cAAc,EAAE;YACtB,KAAK,CAAC,eAAe,EAAE;;AAEzB,QAAA,IAAI,CAAC,YAAY,GAAG,IAAI;AACxB,QAAA,MAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;AAC1D,QAAA,MAAM,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;AACnD,QAAA,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE;QAC/B,MAAM,aAAa,GAAG,CAAG,EAAA,KAAK,IAAI,GAAG,CAAA,CAAA,EAAI,IAAI,CAAA,CAAE;AAE/C,QAAA,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC;AACnC,QAAA,IAAI,CAAC,gBAAgB,GAAG,KAAK;AAC7B,QAAA,IAAI,CAAC,gBAAgB,GAAG,KAAK;AAC/B,KAAC;AAED,IAAA,gBAAgB,GAAG,CAAC,KAAa,KAAI;QACnC,IAAI,KAAK,EAAE;YACT,KAAK,CAAC,cAAc,EAAE;YACtB,KAAK,CAAC,eAAe,EAAE;;AAGzB,QAAA,IAAI,CAAC,oBAAoB,GAAG,IAAI;AAChC,QAAA,IAAI,CAAC,eAAe,GAAG,IAAI;AAC3B,QAAA,IAAI,CAAC,gBAAgB,GAAG,CAAC,IAAI,CAAC,gBAAgB;AAE9C,QAAA,IAAI,IAAI,CAAC,gBAAgB,EAAE;AACzB,YAAA,MAAM,WAAW,GAAG,IAAI,CAAC;AACvB,kBAAE,IAAI,CAAC,YAAY,CAAC,WAAW;AAC/B,kBAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,IAAI,IAAI,CAAC,MAAM,IAAI,EAAE,CAAC;AAClD,YAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC,GAAG,EAAE,GAAG,IAAI;;AAGzE,QAAA,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE;YAC1B,UAAU,CAAC,MAAK;AACd,gBAAA,IAAI,CAAC,eAAe,GAAG,KAAK;AAC5B,gBAAA,IAAI,CAAC,oBAAoB,GAAG,KAAK;aAClC,EAAE,GAAG,CAAC;;aACF;YACL,UAAU,CAAC,MAAK;AACd,gBAAA,IAAI,CAAC,oBAAoB,GAAG,KAAK;aAClC,EAAE,GAAG,CAAC;;AAEX,KAAC;AAED,IAAA,qBAAqB,GAAG,CAAC,SAA0B,EAAE,KAAa,KAAI;QACpE,IAAI,KAAK,EAAE;YACT,KAAK,CAAC,cAAc,EAAE;YACtB,KAAK,CAAC,eAAe,EAAE;;AAGzB,QAAA,IAAI,SAAS,KAAK,MAAM,EAAE;AACxB,YAAA,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,GAAG,EAAE;YACzC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,QAAQ,CAAC;;aACzC;AACL,YAAA,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,GAAG,EAAE;YACzC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,QAAQ,CAAC;;AAElD,KAAC;AAED,IAAA,gBAAgB,GAAG,CAAC,IAAY,EAAE,KAAa,KAAI;QACjD,IAAI,KAAK,EAAE;YACT,KAAK,CAAC,cAAc,EAAE;YACtB,KAAK,CAAC,eAAe,EAAE;;QAEzB,MAAM,YAAY,GAAG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,GAAG,IAAI,IAAI,EAAE,CAAC,QAAQ,EAAE;QAC7F,MAAM,OAAO,GAAG,IAAI,IAAI,CAAC,IAAI,EAAE,YAAY,EAAE,CAAC,CAAC;AAC/C,QAAA,IAAI,CAAC,YAAY,GAAG,OAAO;AAC3B,QAAA,IAAI,CAAC,gBAAgB,GAAG,KAAK;QAE7B,UAAU,CAAC,MAAK;AACd,YAAA,IAAI,CAAC,eAAe,GAAG,KAAK;AAC5B,YAAA,IAAI,CAAC,oBAAoB,GAAG,KAAK;SAClC,EAAE,GAAG,CAAC;AACT,KAAC;IAED,gBAAgB,GAAA;QACd,IAAI,CAAC,IAAI,CAAC,gBAAgB;AAAE,YAAA,OAAO,IAAI;AAEvC,QAAA,MAAM,KAAK,GAAG,IAAI,IAAI,EAAE;QACxB,MAAM,YAAY,GAAG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,GAAG,KAAK,CAAC,QAAQ,EAAE;AACxF,QAAA,MAAM,WAAW,GAAG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,GAAG,KAAK,CAAC,WAAW,EAAE,IAAI,IAAI,CAAC,MAAM,IAAI,EAAE,CAAC;QAEnH,MAAM,UAAU,GAAG,CAAC,SAAS,EAAE,UAAU,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,UAAU,EAAE,UAAU,CAAC;AAC7I,QAAA,MAAM,WAAW,GAAG,IAAI,IAAI,CAAC,WAAW,EAAE,YAAY,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,EAAE;AACxE,QAAA,MAAM,eAAe,GAAG,IAAI,IAAI,CAAC,WAAW,EAAE,YAAY,EAAE,CAAC,CAAC,CAAC,MAAM,EAAE;AAEvE,QAAA,MAAM,iBAAiB,GAAG,CAAC,KAAY,KAAI;AACzC,YAAA,MAAM,MAAM,GAAG,KAAK,CAAC,MAA2B;YAChD,MAAM,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,EAAE,CAAC;YAC3C,MAAM,OAAO,GAAG,IAAI,IAAI,CAAC,WAAW,EAAE,QAAQ,EAAE,CAAC,CAAC;AAClD,YAAA,IAAI,CAAC,YAAY,GAAG,OAAO;YAC3B,UAAU,CAAC,MAAK;AACd,gBAAA,IAAI,CAAC,gBAAgB,GAAG,KAAK;AAC7B,gBAAA,IAAI,CAAC,qBAAqB,GAAG,KAAK;aACnC,EAAE,GAAG,CAAC;AACT,SAAC;QAED,MAAM,gBAAgB,GAAG,MAAK;AAC5B,YAAA,IAAI,CAAC,qBAAqB,GAAG,IAAI;AACjC,YAAA,IAAI,CAAC,gBAAgB,GAAG,IAAI;AAC9B,SAAC;QAED,MAAM,eAAe,GAAG,MAAK;YAC3B,UAAU,CAAC,MAAK;AACd,gBAAA,IAAI,CAAC,gBAAgB,GAAG,KAAK;AAC7B,gBAAA,IAAI,CAAC,qBAAqB,GAAG,KAAK;aACnC,EAAE,GAAG,CAAC;AACT,SAAC;QAED,MAAM,kBAAkB,GAAG,MAAK;YAC9B,MAAM,IAAI,GAAG,EAAE;AAEf,YAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,eAAe,EAAE,CAAC,EAAE,EAAE;gBACxC,IAAI,CAAC,IAAI,CAAC,CAAA,CAAA,IAAA,EAAA,IAAA,CAAS,CAAC;;AAGtB,YAAA,KAAK,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,IAAI,WAAW,EAAE,GAAG,EAAE,EAAE;gBAC3C,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,WAAW,EAAE,YAAY,EAAE,GAAG,CAAC;AACrD,gBAAA,MAAM,UAAU,GAAG,IAAI,CAAC,YAAY;AAClC,oBAAA,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,KAAK,GAAG;AACnC,oBAAA,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,KAAK,YAAY;AAC7C,oBAAA,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,KAAK,WAAW;AAEjD,gBAAA,MAAM,OAAO,GAAG,KAAK,CAAC,OAAO,EAAE,KAAK,GAAG;AACrC,oBAAA,KAAK,CAAC,QAAQ,EAAE,KAAK,YAAY;AACjC,oBAAA,KAAK,CAAC,WAAW,EAAE,KAAK,WAAW;AAErC,gBAAA,IAAI,CAAC,IAAI,CACP,CAAA,CAAA,IAAA,EAAA,IAAA,EACE,CACE,CAAA,QAAA,EAAA,EAAA,IAAI,EAAC,QAAQ,EACb,KAAK,EAAE,CAAmB,gBAAA,EAAA,UAAU,GAAG,UAAU,GAAG,EAAE,CAAA,CAAA,EAAI,OAAO,GAAG,OAAO,GAAG,EAAE,CAAA,CAAE,EAClF,OAAO,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC,CAAC,IAE7C,GAAG,CACG,CACN,CACN;;YAGH,MAAM,KAAK,GAAG,EAAE;YAChB,IAAI,IAAI,GAAG,EAAE;YACb,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,KAAK,KAAI;AAC1B,gBAAA,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;AACd,gBAAA,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,KAAK,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;AACtD,oBAAA,OAAO,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;wBACtB,IAAI,CAAC,IAAI,CAAC,CAAA,CAAA,IAAA,EAAA,IAAA,CAAS,CAAC;;AAEtB,oBAAA,KAAK,CAAC,IAAI,CAAC,cAAK,IAAI,CAAM,CAAC;oBAC3B,IAAI,GAAG,EAAE;;AAEb,aAAC,CAAC;AAEF,YAAA,OAAO,KAAK;AACd,SAAC;AAED,QAAA,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACzB,MAAM,KAAK,GAAG,EAAE;AAChB,YAAA,MAAM,SAAS,GAAG,IAAI,CAAC,cAAc;AACrC,YAAA,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,GAAG,EAAE,EAAE,IAAI,CAAC;AAC9C,YAAA,MAAM,SAAS,GAAG,OAAO,GAAG,SAAS,GAAG,CAAC;AAEzC,YAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,EAAE,CAAC,EAAE,EAAE;AAClC,gBAAA,MAAM,IAAI,GAAG,SAAS,GAAG,CAAC;AAC1B,gBAAA,IAAI,IAAI,IAAI,IAAI,EAAE;AAChB,oBAAA,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;;;AAIpB,YAAA,MAAM,cAAc,GAAG,IAAI,CAAC,cAAc,IAAI,IAAI;AAClD,YAAA,MAAM,cAAc,GAAG,IAAI,CAAC,cAAc,IAAI,IAAI;YAElD,QACE,CAAA,CAAA,KAAA,EAAA,EAAK,KAAK,EAAC,sBAAsB,EAAA,EAC/B,CAAK,CAAA,KAAA,EAAA,EAAA,KAAK,EAAC,oBAAoB,EAAA,EAC7B,CAAK,CAAA,KAAA,EAAA,EAAA,KAAK,EAAC,wBAAwB,EAAA,EACjC,CACE,CAAA,QAAA,EAAA,EAAA,IAAI,EAAC,QAAQ,EACb,KAAK,EAAC,iBAAiB,EACvB,OAAO,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,qBAAqB,CAAC,MAAM,EAAE,CAAC,CAAC,EACrD,QAAQ,EAAE,cAAc,EAGjB,EAAA,QAAA,CAAA,EACT,CAAQ,CAAA,QAAA,EAAA,EAAA,IAAI,EAAC,QAAQ,EAAC,KAAK,EAAC,mBAAmB,EAAC,OAAO,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAA,EACrF,SAAS,SAAK,IAAI,CAAC,GAAG,CAAC,SAAS,GAAG,EAAE,EAAE,IAAI,CAAC,CACtC,EACT,CAAA,CAAA,QAAA,EAAA,EACE,IAAI,EAAC,QAAQ,EACb,KAAK,EAAC,iBAAiB,EACvB,OAAO,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,qBAAqB,CAAC,MAAM,EAAE,CAAC,CAAC,EACrD,QAAQ,EAAE,cAAc,EAAA,EAAA,QAAA,CAGjB,CACL,CACF,EACN,CAAA,CAAA,KAAA,EAAA,EAAK,KAAK,EAAC,kBAAkB,EAAA,EAC1B,KAAK,CAAC,GAAG,CAAC,IAAI,KACb,CAAA,CAAA,QAAA,EAAA,EACE,IAAI,EAAC,QAAQ,EACb,KAAK,EAAE,CAAoB,iBAAA,EAAA,IAAI,KAAK,WAAW,GAAG,UAAU,GAAG,EAAE,CAAA,CAAA,EAAI,IAAI,KAAK,KAAK,CAAC,WAAW,EAAE,GAAG,OAAO,GAAG,EAAE,CAAA,CAAE,EAClH,OAAO,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC,CAAC,EAE7C,EAAA,IAAI,CACE,CACV,CAAC,CACE,CACF;;QAIV,QACE,CAAA,CAAA,KAAA,EAAA,EAAK,KAAK,EAAC,sBAAsB,EAAA,EAC/B,CAAK,CAAA,KAAA,EAAA,EAAA,KAAK,EAAC,oBAAoB,EAAA,EAC7B,CAAK,CAAA,KAAA,EAAA,EAAA,KAAK,EAAC,uBAAuB,EAAA,EAChC,CAAA,CAAA,QAAA,EAAA,EACE,KAAK,EAAC,0BAA0B,EAChC,OAAO,EAAE,iBAAiB,EAC1B,OAAO,EAAE,gBAAgB,EACzB,MAAM,EAAE,eAAe,IAEtB,UAAU,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,KAAK,MAC3B,CAAQ,CAAA,QAAA,EAAA,EAAA,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,KAAK,YAAY,EAAA,EAAG,KAAK,CAAU,CACzE,CAAC,CACK,EACT,CAAQ,CAAA,QAAA,EAAA,EAAA,IAAI,EAAC,QAAQ,EAAC,KAAK,EAAC,yBAAyB,EAAC,OAAO,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAC3F,EAAA,WAAW,CACL,CACL,CACF,EACN,CAAK,CAAA,KAAA,EAAA,EAAA,KAAK,EAAC,8BAA8B,EAAA,EACvC,CAAO,CAAA,OAAA,EAAA,EAAA,KAAK,EAAC,sBAAsB,EAAA,EACjC,CAAA,CAAA,OAAA,EAAA,IAAA,EACE,CAAA,CAAA,IAAA,EAAA,IAAA,EACE,CAAU,CAAA,IAAA,EAAA,IAAA,EAAA,GAAA,CAAA,EACV,CAAU,CAAA,IAAA,EAAA,IAAA,EAAA,GAAA,CAAA,EACV,CAAU,CAAA,IAAA,EAAA,IAAA,EAAA,GAAA,CAAA,EACV,CAAU,CAAA,IAAA,EAAA,IAAA,EAAA,GAAA,CAAA,EACV,CAAU,CAAA,IAAA,EAAA,IAAA,EAAA,GAAA,CAAA,EACV,CAAU,CAAA,IAAA,EAAA,IAAA,EAAA,GAAA,CAAA,EACV,CAAA,CAAA,IAAA,EAAA,IAAA,EAAA,GAAA,CAAU,CACP,CACC,EACR,CAAA,CAAA,OAAA,EAAA,IAAA,EACG,kBAAkB,EAAE,CACf,CACF,CACJ,CACF;;IAIV,MAAM,GAAA;AACJ,QAAA,QACE,CAAA,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAK,KAAK,EAAC,qBAAqB,EAAA,EAC9B,CAAA,CAAA,OAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EACE,IAAI,EAAC,MAAM,EACX,EAAE,EAAE,IAAI,CAAC,OAAO,EAChB,WAAW,EAAE,IAAI,CAAC,WAAW,EAC7B,KAAK,EAAE,IAAI,CAAC,UAAU,EACtB,OAAO,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,EACzC,SAAS,EAAE,EAAE,EACb,YAAY,EAAC,KAAK,EAClB,CAAA,EACF,CAAQ,CAAA,QAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,IAAI,EAAC,QAAQ,EAAC,KAAK,EAAC,kBAAkB,EAAC,OAAO,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAA,EACrF,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,4BAA4B,EAAC,KAAK,EAAC,IAAI,EAAC,MAAM,EAAC,IAAI,EAAC,OAAO,EAAC,WAAW,EAAC,IAAI,EAAC,MAAM,EAAC,MAAM,EAAC,cAAc,EAAA,cAAA,EAAc,GAAG,EAAA,EACnI,CAAM,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,CAAC,EAAC,GAAG,EAAC,CAAC,EAAC,GAAG,EAAC,KAAK,EAAC,IAAI,EAAC,MAAM,EAAC,IAAI,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAQ,CAAA,EAC9D,CAAA,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAM,EAAE,EAAC,IAAI,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,IAAI,EAAC,EAAE,EAAC,GAAG,EAAQ,CAAA,EAC3C,CAAA,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAM,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAQ,CAAA,EACzC,CAAA,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAM,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,IAAI,EAAC,EAAE,EAAC,IAAI,EAAC,EAAE,EAAC,IAAI,EAAA,CAAQ,CACxC,CACC,EACR,IAAI,CAAC,gBAAgB,EAAE,CACpB;;;;;;;;ACjdZ;AACA,MAAM,MAAM,GAAG,CAAC,WAAwB,EAAE,OAAe,EAAE,GAAG,IAAW,KAAI;AAC3E,IAAA,IAAI,WAAW,KAAK,WAAW,CAAC,gBAAgB,IAAI,WAAW,KAAK,WAAW,CAAC,OAAO,EAAE;QACvF,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC;;AAEjC,CAAC;AAGM,eAAe,YAAY,CAChC,eAAuB,EACvB,qBAA6B,EAC7B,YAAoB,EACpB,WAA2B,GAAA,WAAW,CAAC,UAAU,EAAA;AAEjD,IAAA,MAAM,SAAS,GAAG,YAAY,CAAC,WAAW,CAAC;AAC3C,IAAA,MAAM,GAAG,GAAG,CAAA,EAAG,SAAS,CAAC,QAAQ,GAAG,SAAS,CAAC,aAAa,CAAC,cAAc,CAAiB,cAAA,EAAA,kBAAkB,CAAC,YAAY,CAAC,EAAE;AAG7H,IAAA,MAAM,CAAC,WAAW,EAAE,iCAAiC,EAAE;QACrD,GAAG;AACH,QAAA,MAAM,EAAE,KAAK;AACb,QAAA,OAAO,EAAE;YACP,eAAe,EAAE,UAAU,eAAe,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,eAAe,CAAC,SAAS,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,CAAC,CAAE,CAAA;YACvH,cAAc,EAAE,GAAG,qBAAqB,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,qBAAqB,CAAC,SAAS,CAAC,qBAAqB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAE,CAAA;AAClI,SAAA;AACF,KAAA,CAAC;AAEF,IAAA,IAAI;AACF,QAAA,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,GAAG,EAAE;AAChC,YAAA,MAAM,EAAE,KAAK;AACb,YAAA,OAAO,EAAE;gBACP,eAAe,EAAE,CAAU,OAAA,EAAA,eAAe,CAAE,CAAA;AAC5C,gBAAA,cAAc,EAAE,qBAAqB;AACtC,aAAA;AAEF,SAAA,CAAC;AAEF,QAAA,MAAM,CAAC,WAAW,EAAE,iCAAiC,EAAE,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,UAAU,CAAC;AAE5F,QAAA,MAAM,YAAY,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE;AAC1C,QAAA,MAAM,CAAC,WAAW,EAAE,+BAA+B,EAAE,YAAY,CAAC;AAElE,QAAA,IAAI,YAAY,CAAC,MAAM,KAAK,GAAG,EAAE;AAC/B,YAAA,MAAM,CAAC,WAAW,EAAE,4BAA4B,EAAE,YAAY,CAAC;YAC/D,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,2GAA2G,EAAE;;AAGjJ,QAAA,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE;AAChB,YAAA,OAAO,CAAC,KAAK,CAAC,qBAAqB,EAAE;gBACnC,MAAM,EAAE,QAAQ,CAAC,MAAM;gBACvB,UAAU,EAAE,QAAQ,CAAC,UAAU;AAC/B,gBAAA,IAAI,EAAE;AACP,aAAA,CAAC;YACF,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,iFAAiF,EAAE;;AAGvH,QAAA,MAAM,CAAC,WAAW,EAAE,kCAAkC,EAAE,YAAY,CAAC;QACrE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,YAAY,EAAE;;IAC5C,OAAO,KAAK,EAAE;AACd,QAAA,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE;YAC1C,KAAK;AACL,YAAA,OAAO,EAAE,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,eAAe;AACjE,YAAA,KAAK,EAAE,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,KAAK,GAAG;AAC/C,SAAA,CAAC;QACF,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,sDAAsD,EAAE;;AAE9F;AAEO,eAAe,aAAa,CACjC,eAAuB,EACvB,qBAA6B,EAC7B,WAAiC,EACjC,WAA2B,GAAA,WAAW,CAAC,UAAU,EAAA;AAEjD,IAAA,MAAM,SAAS,GAAG,YAAY,CAAC,WAAW,CAAC;AAC3C,IAAA,MAAM,GAAG,GAAG,CAAG,EAAA,SAAS,CAAC,QAAQ,CAAG,EAAA,SAAS,CAAC,aAAa,CAAC,eAAe,EAAE;AAE7E,IAAA,MAAM,CAAC,WAAW,EAAE,kCAAkC,EAAE;QACtD,GAAG;AACH,QAAA,MAAM,EAAE,MAAM;AACd,QAAA,OAAO,EAAE;AACP,YAAA,cAAc,EAAE,kBAAkB;YAClC,eAAe,EAAE,UAAU,eAAe,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,eAAe,CAAC,SAAS,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,CAAC,CAAE,CAAA;YACvH,cAAc,EAAE,GAAG,qBAAqB,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,qBAAqB,CAAC,SAAS,CAAC,qBAAqB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAE,CAAA;AAClI,SAAA;AACD,QAAA,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW;AACjC,KAAA,CAAC;AAEF,IAAA,IAAI;AACF,QAAA,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,GAAG,EAAE;AAChC,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,OAAO,EAAE;AACP,gBAAA,cAAc,EAAE,kBAAkB;gBAClC,eAAe,EAAE,CAAU,OAAA,EAAA,eAAe,CAAE,CAAA;AAC5C,gBAAA,cAAc,EAAE,qBAAqB;AACtC,aAAA;AACD,YAAA,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC;AAClC,SAAA,CAAC;AAEF,QAAA,MAAM,CAAC,WAAW,EAAE,kCAAkC,EAAE,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,UAAU,CAAC;AAE7F,QAAA,MAAM,YAAY,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE;AAC1C,QAAA,MAAM,CAAC,WAAW,EAAE,gCAAgC,EAAE,YAAY,CAAC;AAEnE,QAAA,IAAI,YAAY,CAAC,MAAM,KAAK,GAAG,EAAE;AAC/B,YAAA,MAAM,CAAC,WAAW,EAAE,4BAA4B,EAAE,YAAY,CAAC;YAC/D,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,iEAAiE,EAAE;;AAGvG,QAAA,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE;AAChB,YAAA,OAAO,CAAC,KAAK,CAAC,qBAAqB,EAAE;gBACnC,MAAM,EAAE,QAAQ,CAAC,MAAM;gBACvB,UAAU,EAAE,QAAQ,CAAC,UAAU;AAC/B,gBAAA,IAAI,EAAE;AACP,aAAA,CAAC;YACF,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,yDAAyD,EAAE;;AAE/F,QAAA,MAAM,CAAC,WAAW,EAAE,4CAA4C,EAAE,YAAY,CAAC;QAC/E,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,YAAY,EAAE;;IAC5C,OAAO,KAAK,EAAE;AACd,QAAA,OAAO,CAAC,KAAK,CAAC,2BAA2B,EAAE;YACzC,KAAK;AACL,YAAA,OAAO,EAAE,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,eAAe;AACjE,YAAA,KAAK,EAAE,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,KAAK,GAAG;AAC/C,SAAA,CAAC;QACF,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,6EAA6E,EAAE;;AAErH;AAEO,eAAe,oBAAoB,CACxC,eAAuB,EACvB,qBAA6B,EAC7B,WAAwC,EACxC,WAA2B,GAAA,WAAW,CAAC,UAAU,EAAA;AAEjD,IAAA,MAAM,SAAS,GAAG,YAAY,CAAC,WAAW,CAAC;AAC3C,IAAA,MAAM,GAAG,GAAG,CAAG,EAAA,SAAS,CAAC,QAAQ,CAAG,EAAA,SAAS,CAAC,aAAa,CAAC,wBAAwB,EAAE;AAEtF,IAAA,MAAM,CAAC,WAAW,EAAE,2CAA2C,EAAE;QAC/D,GAAG;AACH,QAAA,MAAM,EAAE,MAAM;AACd,QAAA,OAAO,EAAE;AACP,YAAA,cAAc,EAAE,kBAAkB;YAClC,eAAe,EAAE,UAAU,eAAe,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,eAAe,CAAC,SAAS,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,CAAC,CAAE,CAAA;YACvH,cAAc,EAAE,GAAG,qBAAqB,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,qBAAqB,CAAC,SAAS,CAAC,qBAAqB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAE;AAClI,SAAA;AACD,QAAA,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW;AACjC,KAAA,CAAC;AAEF,IAAA,IAAI;AACF,QAAA,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,GAAG,EAAE;AAChC,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,OAAO,EAAE;AACP,gBAAA,cAAc,EAAE,kBAAkB;gBAClC,eAAe,EAAE,CAAU,OAAA,EAAA,eAAe,CAAE,CAAA;AAC5C,gBAAA,cAAc,EAAE;AACjB,aAAA;AACD,YAAA,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW;AACjC,SAAA,CAAC;AAEF,QAAA,MAAM,CAAC,WAAW,EAAE,2CAA2C,EAAE,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,UAAU,CAAC;AAEtG,QAAA,MAAM,YAAY,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE;AAC1C,QAAA,MAAM,CAAC,WAAW,EAAE,yCAAyC,EAAE,YAAY,CAAC;AAE5E,QAAA,IAAI,YAAY,CAAC,MAAM,KAAK,GAAG,EAAE;AAC/B,YAAA,MAAM,CAAC,WAAW,EAAE,4BAA4B,EAAE,YAAY,CAAC;YAC/D,OAAO;AACL,gBAAA,OAAO,EAAE,KAAK;AACd,gBAAA,OAAO,EAAE;aACV;;AAGH,QAAA,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE;AAChB,YAAA,OAAO,CAAC,KAAK,CAAC,qBAAqB,EAAE;gBACnC,MAAM,EAAE,QAAQ,CAAC,MAAM;gBACvB,UAAU,EAAE,QAAQ,CAAC,UAAU;AAC/B,gBAAA,IAAI,EAAE;AACP,aAAA,CAAC;YACF,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,4DAA4D,EAAE;;AAElG,QAAA,MAAM,CAAC,WAAW,EAAE,iDAAiD,EAAE,YAAY,CAAC;QACpF,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,YAAY,EAAE;;IAC5C,OAAO,KAAK,EAAE;AACd,QAAA,OAAO,CAAC,KAAK,CAAC,mCAAmC,EAAE;YACjD,KAAK;AACL,YAAA,OAAO,EAAE,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,eAAe;AACjE,YAAA,KAAK,EAAE,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,KAAK,GAAG;AAC/C,SAAA,CAAC;QACF,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,8EAA8E,EAAE;;AAEtH;AAEO,eAAe,oBAAoB,CACxC,eAAuB,EACvB,qBAA6B,EAC7B,WAAwC,EACxC,WAA2B,GAAA,WAAW,CAAC,UAAU,EAAA;AAEjD,IAAA,MAAM,SAAS,GAAG,YAAY,CAAC,WAAW,CAAC;AAC3C,IAAA,MAAM,GAAG,GAAG,CAAG,EAAA,SAAS,CAAC,QAAQ,CAAG,EAAA,SAAS,CAAC,aAAa,CAAC,wBAAwB,EAAE;AAEtF,IAAA,MAAM,CAAC,WAAW,EAAE,2CAA2C,EAAE;QAC/D,GAAG;AACH,QAAA,MAAM,EAAE,MAAM;AACd,QAAA,OAAO,EAAE;AACP,YAAA,cAAc,EAAE,kBAAkB;YAClC,eAAe,EAAE,UAAU,eAAe,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,eAAe,CAAC,SAAS,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,CAAC,CAAE,CAAA;YACvH,cAAc,EAAE,GAAG,qBAAqB,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,qBAAqB,CAAC,SAAS,CAAC,qBAAqB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAE;AAClI,SAAA;AACD,QAAA,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW;AACjC,KAAA,CAAC;AAEF,IAAA,IAAI;AACF,QAAA,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,GAAG,EAAE;AAChC,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,OAAO,EAAE;AACP,gBAAA,cAAc,EAAE,kBAAkB;gBAClC,eAAe,EAAE,CAAU,OAAA,EAAA,eAAe,CAAE,CAAA;AAC5C,gBAAA,cAAc,EAAE;AACjB,aAAA;AACD,YAAA,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW;AACjC,SAAA,CAAC;AAEF,QAAA,MAAM,CAAC,WAAW,EAAE,2CAA2C,EAAE,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,UAAU,CAAC;AAEtG,QAAA,MAAM,YAAY,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE;AAC1C,QAAA,MAAM,CAAC,WAAW,EAAE,yCAAyC,EAAE,YAAY,CAAC;AAE5E,QAAA,IAAI,YAAY,CAAC,MAAM,KAAK,GAAG,EAAE;AAC/B,YAAA,MAAM,CAAC,WAAW,EAAE,4BAA4B,EAAE,YAAY,CAAC;YAC/D,OAAO;AACL,gBAAA,OAAO,EAAE,KAAK;AACd,gBAAA,OAAO,EAAE;aACV;;AAGH,QAAA,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE;AAChB,YAAA,OAAO,CAAC,KAAK,CAAC,qBAAqB,EAAE;gBACnC,MAAM,EAAE,QAAQ,CAAC,MAAM;gBACvB,UAAU,EAAE,QAAQ,CAAC,UAAU;AAC/B,gBAAA,IAAI,EAAE;AACP,aAAA,CAAC;YACF,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,4DAA4D,EAAE;;AAElG,QAAA,MAAM,CAAC,WAAW,EAAE,iDAAiD,EAAE,YAAY,CAAC;QACpF,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,YAAY,EAAE;;IAC5C,OAAO,KAAK,EAAE;AACd,QAAA,OAAO,CAAC,KAAK,CAAC,mCAAmC,EAAE;YACjD,KAAK;AACL,YAAA,OAAO,EAAE,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,OAAO,GAAG,eAAe;AACjE,YAAA,KAAK,EAAE,KAAK,YAAY,KAAK,GAAG,KAAK,CAAC,KAAK,GAAG;AAC/C,SAAA,CAAC;QACF,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,8EAA8E,EAAE;;AAEtH;;ACnQA;AACA;AACA;AAqBgB,SAAA,yBAAyB,CACrC,iBAAsB;AACtB,kBAAuB,EAAA;IAEvB,OAAO;AACH,QAAA,SAAS,EAAE,iBAAiB,EAAE,gBAAgB,EAAE,SAAS;AACzD,QAAA,QAAQ,EAAE,iBAAiB,EAAE,gBAAgB,EAAE,QAAQ;AACvD,QAAA,WAAW,EAAE,iBAAiB,EAAE,gBAAgB,EAAE,WAAW;AAC7D,QAAA,YAAY,EAAE,iBAAiB,EAAE,gBAAgB,EAAE,kBAAkB,EAAE,YAAY;AACnF,QAAA,WAAW,EAAE,iBAAiB,EAAE,gBAAgB,EAAE,kBAAkB,EAAE,WAAW;AACjF,QAAA,OAAO,EAAE;AACL,YAAA,YAAY,EAAE,iBAAiB,EAAE,cAAc,EAAE,YAAY;AAC7D,YAAA,YAAY,EAAE,iBAAiB,EAAE,cAAc,EAAE,YAAY;AAC7D,YAAA,IAAI,EAAE,iBAAiB,EAAE,cAAc,EAAE,IAAI;AAC7C,YAAA,mBAAmB,EAAE,iBAAiB,EAAE,cAAc,EAAE,mBAAmB;AAC3E,YAAA,UAAU,EAAE,iBAAiB,EAAE,cAAc,EAAE,UAAU;AACzD,YAAA,WAAW,EAAE,iBAAiB,EAAE,cAAc,EAAE,WAAW;AAC9D,SAAA;AACD,QAAA,oBAAoB,EAAE,kBAAkB,EAAE,IAAI,EAAE,oBAAoB;KACvE;AACL;AA2CA,SAAS,oCAAoC,CAAC,OAAY,EAAE,YAAqB,EAAA;IAC/E,OAAO;QACL,oBAAoB,EAAE,OAAO,EAAE,oBAAoB;AACnD,QAAA,SAAS,EAAE,CAAC;QACZ,UAAU,EAAE,OAAO,EAAE,UAAU;AAC/B,QAAA,SAAS,EAAE,YAAY,IAAI,OAAO,EAAE,YAAY;AAChD,QAAA,iBAAiB,EAAE,CAAC,OAAO,EAAE,yBAAyB;KACvD;AACH;AAEA,SAAS,qBAAqB,CAAC,cAAmB,EAAE,OAAY,EAAE,YAAqB,EAAA;IACrF,OAAO;AACL,QAAA,SAAS,EAAE,cAAc,EAAE,gBAAgB,EAAE,SAAS;AACtD,QAAA,QAAQ,EAAE,cAAc,EAAE,gBAAgB,EAAE,QAAQ;AACpD,QAAA,WAAW,EAAE,cAAc,EAAE,gBAAgB,EAAE,WAAW;AAC1D,QAAA,eAAe,EAAE,cAAc,EAAE,gBAAgB,EAAE,eAAe;AAClE,QAAA,kBAAkB,EAAE;AAClB,YAAA,YAAY,EAAE,cAAc,EAAE,gBAAgB,EAAE,kBAAkB,EAAE,YAAY;AAChF,YAAA,WAAW,EAAE,cAAc,EAAE,gBAAgB,EAAE,kBAAkB,EAAE,WAAW;AAC/E,SAAA;AACD,QAAA,+BAA+B,EAAE,oCAAoC,CAAC,OAAO,EAAE,YAAY,CAAC;KAC7F;AACH;AAEA,SAAS,mBAAmB,CAAC,cAAmB,EAAA;IAC9C,OAAO;AACL,QAAA,YAAY,EAAE,cAAc,EAAE,cAAc,EAAE,YAAY;AAC1D,QAAA,YAAY,EAAE,cAAc,EAAE,cAAc,EAAE,YAAY;AAC1D,QAAA,IAAI,EAAE,cAAc,EAAE,cAAc,EAAE,IAAI;AAC1C,QAAA,mBAAmB,EAAE,cAAc,EAAE,cAAc,EAAE,mBAAmB;AACxE,QAAA,UAAU,EAAE,cAAc,EAAE,cAAc,EAAE,UAAU;AACtD,QAAA,WAAW,EAAE,cAAc,EAAE,cAAc,EAAE,WAAW;KACzD;AACH;AAEA;AACA;AACA;SAEgB,gCAAgC,CAC9C,qBAA0B,EAC1B,kBAAuB,EACvB,YAAqB,EAAA;AAErB,IAAA,MAAM,OAAO,GAAG,kBAAkB,EAAE,IAAI;IAExC,OAAO;QACL,gBAAgB,EAAE,qBAAqB,CAAC,qBAAqB,EAAE,OAAO,EAAE,YAAY,CAAC;QACrF,kBAAkB,EAAE,qBAAqB,EAAE,kBAAkB;AAC7D,QAAA,cAAc,EAAE,mBAAmB,CAAC,qBAAqB,CAAC;QAC1D,UAAU,EAAE,qBAAqB,EAAE,UAAU;QAC7C,eAAe,EAAE,qBAAqB,EAAE,eAAe;QACvD,cAAc,EAAE,qBAAqB,EAAE,cAAc;KACtD;AACH;AAeA;AACA;AACA;SAEgB,gCAAgC,CAC9C,qBAA0B,EAC1B,kBAAuB,EACvB,YAAqB,EAAA;AAErB,IAAA,MAAM,OAAO,GAAG,kBAAkB,EAAE,IAAI;IAExC,OAAO;QACL,gBAAgB,EAAE,qBAAqB,CAAC,qBAAqB,EAAE,OAAO,EAAE,YAAY,CAAC;QACrF,kBAAkB,EAAE,qBAAqB,EAAE,kBAAkB;AAC7D,QAAA,cAAc,EAAE,mBAAmB,CAAC,qBAAqB,CAAC;QAC1D,aAAa,EAAE,qBAAqB,EAAE,aAAa;QACnD,aAAa,EAAE,qBAAqB,EAAE,aAAa;QACnD,eAAe,EAAE,qBAAqB,EAAE,eAAe;KACxD;AACH;;AC9KA,MAAM,sBAAsB,GAAG,k1EAAk1E;;MCWp2E,aAAa,GAAA,MAAA;;;;;AAChB,IAAA,eAAe;AACf,IAAA,qBAAqB;IACrB,WAAW,CAAc;AACzB,IAAA,OAAO;IACN,WAAW,GAAwB,IAAI;AACxC,IAAA,iBAAiB;AACjB,IAAA,kBAAkB;AAClB,IAAA,WAAW;AACV,IAAA,IAAI,GAAW,EAAE,CAAC;IAClB,SAAS,GAAY,IAAI;IACzB,gBAAgB,GAAW,EAAE;AACtC,IAAA,KAAK;AACG,IAAA,mBAAmB;AACnB,IAAA,iBAAiB;AACjB,IAAA,YAAY;IACX,wBAAwB,GAAQ,IAAI;IACpC,YAAY,GAAW,CAAC;AACzB,IAAA,SAAS;AACR,IAAA,YAAY;AAIrB,IAAA,mBAAmB,CAAC,QAAiB,EAAA;AACnC,QAAA,IAAI,QAAQ,KAAK,IAAI,EAAE;YACrB,IAAI,CAAC,WAAW,EAAE;;;AAKtB,IAAA,oBAAoB,CAAC,QAAiB,EAAA;AACpC,QAAA,IAAI,QAAQ,KAAK,KAAK,EAAE;YACtB,IAAI,CAAC,UAAU,EAAE;;;IAIb,WAAW,GAAA;QACjB,IAAI,CAAC,mBAAmB,EAAE;QAC1B,IAAI,CAAC,wBAAwB,EAAE;;IAGzB,UAAU,GAAA;QAChB,IAAI,CAAC,kBAAkB,EAAE;QACzB,IAAI,CAAC,kBAAkB,EAAE;;IAG3B,iBAAiB,GAAA;AACf,QAAA,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,EAAE,IAAI,EAAE,YAAY,IAAI,EAAE;;IAG3E,gBAAgB,GAAA;AACd,QAAA,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,mBAAmB,EAAE;YAC1B,IAAI,CAAC,wBAAwB,EAAE;;;IAInC,wBAAwB,GAAA;QACtB,MAAM,0BAA0B,GAAG,MAAK;AACtC,YAAA,IAAI,CAAC,iBAAiB,GAAG,WAAW,CAAC,YAAW;gBAC9C,MAAM,QAAQ,GAAG,MAAM,YAAY,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,WAAW,CAAC;AAC9H,gBAAA,IAAI,QAAQ,CAAC,OAAO,EAAE;AACpB,oBAAA,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,IAAoB;;qBAC3C;AACL,oBAAA,MAAM,GAAG,GAAG,QAAQ,CAAC,OAAO,IAAI,sDAAsD;;AAEtF,oBAAA,IAAI,IAAI,CAAC,YAAY,EAAE;AACrB,wBAAA,IAAI,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC;;;oBAG1B,IAAI,CAAC,YAAY,EAAE;;AAEvB,aAAC,EAAE,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;AACnC,SAAC;AAED,QAAA,IAAI,CAAC,SAAS,GAAG,UAAU,CAAC,MAAK;AAC/B,YAAA,0BAA0B,EAAE;AAC9B,SAAC,EAAE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;;IAI/B,MAAM,wBAAwB,CAAC,QAA6B,EAAA;AAC1D,QAAA,IAAI,CAAC,QAAQ;YAAE;QAEf,IAAI,QAAQ,CAAC,SAAS,KAAK,aAAa,CAAC,IAAI,EAAE;YAC7C,IAAI,CAAC,kBAAkB,EAAE;AAEzB,YAAA,IAAI,OAAO;AACX,YAAA,IAAI,QAAQ;AAEZ,YAAA,IAAI,IAAI,CAAC,WAAW,KAAK,MAAM,EAAE;AAC/B,gBAAA,OAAO,GAAG,gCAAgC,CACxC,IAAI,CAAC,iBAAiB,EACtB,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,gBAAgB,CACtB;AACD,gBAAA,QAAQ,GAAG,MAAM,oBAAoB,CACnC,IAAI,CAAC,eAAe,EACpB,IAAI,CAAC,qBAAqB,EAC1B,OAAO,EACP,IAAI,CAAC,WAAW,CACjB;;AAEE,iBAAA,IAAI,IAAI,CAAC,WAAW,KAAK,MAAM,EAAE;AACpC,gBAAA,OAAO,GAAG,gCAAgC,CACxC,IAAI,CAAC,iBAAiB,EACtB,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,gBAAgB,CACtB;AACD,gBAAA,QAAQ,GAAG,MAAM,oBAAoB,CACnC,IAAI,CAAC,eAAe,EACpB,IAAI,CAAC,qBAAqB,EAC1B,OAAO,EACP,IAAI,CAAC,WAAW,CACjB;;AAGH,YAAA,IAAI,QAAQ,CAAC,OAAO,EAAE;AACpB,gBAAA,IAAI,CAAC,wBAAwB,GAAG,QAAQ,CAAC,IAAI;;iBACxC;AACL,gBAAA,MAAM,GAAG,GAAG,QAAQ,CAAC,OAAO,IAAI,qCAAqC;AACrE,gBAAA,IAAI,IAAI,CAAC,YAAY,EAAE;AACrB,oBAAA,IAAI,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC;;;gBAG1B,IAAI,CAAC,YAAY,EAAE;;;aAEhB,IAAI,QAAQ,CAAC,SAAS,KAAK,aAAa,CAAC,MAAM,EAAE;YACtD,IAAI,CAAC,kBAAkB,EAAE;YACzB,MAAM,GAAG,GAAG,uFAAuF;;AAEnG,YAAA,IAAI,IAAI,CAAC,YAAY,EAAE;AACrB,gBAAA,IAAI,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC;;AAE1B,YAAA,IAAI,CAAC,YAAY,EAAE,CAAC;;;AAKxB,IAAA,qCAAqC,CAAC,QAAa,EAAA;AACjD,QAAA,IAAI,CAAC,QAAQ;YAAE;AAEf,QAAA,IACE,QAAQ,EAAE,aAAa,KAAK,SAAS;YACrC,QAAQ,EAAE,iBAAiB,EAC3B;YACA,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC;YAC1C,IAAI,CAAC,YAAY,EAAE;;;IAIvB,kBAAkB,GAAA;AAChB,QAAA,IAAI,IAAI,CAAC,iBAAiB,EAAE;AAC1B,YAAA,aAAa,CAAC,IAAI,CAAC,iBAAiB,CAAC;;AAEvC,QAAA,IAAI,IAAI,CAAC,SAAS,EAAE;AAClB,YAAA,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC;;;IAIhC,mBAAmB,GAAA;AACjB,QAAA,IAAI,CAAC,mBAAmB,GAAG,WAAW,CAAC,MAAK;AAC1C,YAAA,IAAI,IAAI,CAAC,IAAI,GAAG,CAAC,EAAE;gBACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,CAAC;;iBACpB;AACL,gBAAA,IAAI,CAAC,SAAS,GAAG,KAAK;AAEtB,gBAAA,IAAI,IAAI,CAAC,YAAY,KAAK,CAAC,EAAE;oBAC3B,MAAM,GAAG,GAAG,6FAA6F;AACzG,oBAAA,IAAI,IAAI,CAAC,YAAY,EAAE;AACrB,wBAAA,IAAI,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC;;AAE1B,oBAAA,IAAI,CAAC,YAAY,EAAE,CAAC;;AAGtB,gBAAA,aAAa,CAAC,IAAI,CAAC,mBAAmB,CAAC;;SAE1C,EAAE,IAAI,CAAC;;IAGV,kBAAkB,GAAA;AAChB,QAAA,aAAa,CAAC,IAAI,CAAC,mBAAmB,CAAC;;IAGzC,oBAAoB,GAAA;QAClB,IAAI,CAAC,kBAAkB,EAAE;QACzB,IAAI,CAAC,kBAAkB,EAAE;;IAG3B,qBAAqB,GAAG,YAAW;AACjC,QAAA,IAAI,IAAI,CAAC,YAAY,GAAG,CAAC,EAAE;YACzB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,GAAG,CAAC;;AAGzC,YAAA,MAAM,OAAO,GAAG,yBAAyB,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,kBAAkB,CAAC;;AAE1F,YAAA,MAAM,QAAQ,GAAG,MAAM,aAAa,CAClC,IAAI,CAAC,eAAe,EACpB,IAAI,CAAC,qBAAqB,EAC1B,OAAO,EACP,IAAI,CAAC,WAAW,CACjB;AAED,YAAA,IAAI,QAAQ,CAAC,OAAO,EAAE;;gBAEpB,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,IAAI,EAAE,SAAS,IAAI,EAAE;AACtD,gBAAA,IAAI,CAAC,IAAI,GAAG,EAAE;AACd,gBAAA,IAAI,CAAC,SAAS,GAAG,IAAI;;iBAEhB;AACL,gBAAA,MAAM,GAAG,GAAG,QAAQ,CAAC,OAAO,IAAI,sDAAsD;AACtF,gBAAA,IAAI,IAAI,CAAC,YAAY,EAAE;AACrB,oBAAA,IAAI,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC;;;gBAG1B,IAAI,CAAC,YAAY,EAAE;;;AAGzB,KAAC;IAED,YAAY,GAAG,MAAK;AAClB,QAAA,IAAI,IAAI,CAAC,iBAAiB,EAAE;AAC1B,YAAA,aAAa,CAAC,IAAI,CAAC,iBAAiB,CAAC;AACrC,YAAA,IAAI,CAAC,iBAAiB,GAAG,IAAI;;AAE/B,QAAA,IAAI,IAAI,CAAC,SAAS,EAAE;AAClB,YAAA,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC;AAC5B,YAAA,IAAI,CAAC,SAAS,GAAG,IAAI;;AAEvB,QAAA,IAAI,IAAI,CAAC,mBAAmB,EAAE;AAC5B,YAAA,aAAa,CAAC,IAAI,CAAC,mBAAmB,CAAC;AACvC,YAAA,IAAI,CAAC,mBAAmB,GAAG,IAAI;;QAEjC,IAAI,CAAC,OAAO,EAAE;AAChB,KAAC;AAGD,IAAA,IAAI,eAAe,GAAA;QACjB,OAAO,IAAI,CAAC,kBAAkB,EAAE,IAAI,EAAE,eAAe,IAAI,MAAM,CAAC;;AAGlE,IAAA,IAAI,0BAA0B,GAAA;AAC5B,QAAA,MAAM,MAAM,GAAG,IAAI,CAAC,iBAAiB,EAAE,gBAAgB,EAAE,kBAAkB,EAAE,WAAW,IAAI,EAAE;AAC9F,QAAA,OAAO,MAAM,CAAC,MAAM,IAAI,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,MAAM;;AAGvD,IAAA,IAAI,aAAa,GAAA;AACf,QAAA,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,eAAe,EAAE,KAAK,CAAC,GAAG,CAAC,IAAI,EAAE;AACtD,QAAA,OAAO,MAAM,CAAC,KAAK,CAAC;;AAGtB,IAAA,IAAI,iBAAiB,GAAA;AACnB,QAAA,MAAM,GAAG,SAAS,CAAC,GAAG,IAAI,CAAC,eAAe,EAAE,KAAK,CAAC,GAAG,CAAC,IAAI,EAAE;AAC5D,QAAA,OAAO,MAAM,CAAC,SAAS,CAAC;;AAGlB,IAAA,UAAU,CAAC,OAAe,EAAA;QAChC,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC;AACxC,QAAA,MAAM,gBAAgB,GAAG,OAAO,GAAG,EAAE;QACrC,OAAO,CAAA,EAAG,MAAM,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,MAAM,CAAC,gBAAgB,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAA,CAAE;;IAGnF,eAAe,GAAA;AACrB,QAAA,OAAO,IAAI,CAAC,YAAY,KAAK,CAAC,IAAI,IAAI,CAAC,YAAY,KAAK,CAAC,GAAG,SAAS,GAAG,UAAU;;IAGpF,MAAM,GAAA;AACJ,QAAA,QACE,CAAA,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAK,KAAK,EAAC,OAAO,EAAA,EAChB,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,cAAc,EAAA,EACvB,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,iBAAiB,EAAA,EAC1B,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,cAAc,EAAA,EACvB,CAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,EAAA,wBAAA,CAA+B,CAC3B,EACN,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,YAAY,EAAA,EACrB,CAAG,CAAA,GAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,mBAAmB,EAAA,gDACgB,CAAM,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,WAAW,EAAA,8BAA0B,IAAI,CAAC,0BAA0B,EAAS,GAAA,CAAA,EACnI,CAAM,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,CAAA,+EAEN,CAAM,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,CAAA,EACN,CAAM,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,CAAA,8BACkB,CAAA,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAM,KAAK,EAAC,gBAAgB,EAAA,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAQ,OAAC,CAAM,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,CAAA,eACrF,IAAI,CAAC,YAAY,iBAAa,IAAI,CAAC,eAAe,EAAE,EAC5D,gCAAA,CAAA,EACJ,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,cAAc,EAAA,EACvB,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,YAAY,EAAA,EACrB,CAAQ,CAAA,QAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,cAAc,EAAC,OAAO,EAAE,IAAI,CAAC,YAAY,EAE9C,EAAA,QAAA,CAAA,EACT,CAAQ,CAAA,QAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,aAAa,EAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,EAAE,OAAO,EAAE,IAAI,CAAC,qBAAqB,EAAA,EAAA,aAAA,CAEhF,CACL,CACF,CACF,CACF,CACF,CACF;;;;;;;;;;;;"}